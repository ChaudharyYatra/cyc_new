</div>
  <!-- /.content-wrapper -->
  <footer class="main-footer">
    <div class="float-right d-none d-sm-block">
      <!--<b>Version</b> 3.2.0-->
    </div>
    <center><strong>Copyright &copy; <?php echo date("Y"); ?>.</strong> All rights reserved.</center>
  </footer>

  <!-- Control Sidebar -->
  <aside class="control-sidebar control-sidebar-dark">
    <!-- Control sidebar content goes here -->
  </aside>
  <!-- /.control-sidebar -->
</div>
<!-- ./wrapper -->


<!-- jQuery -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/jquery/jquery.min.js"></script>
<!-- Bootstrap 4 -->f
<script src="<?php echo base_url(); ?>assets/admin/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/jquery-validation/jquery.validate.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/jquery-validation/additional-methods.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/summernote/summernote-bs4.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/codemirror/codemirror.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/codemirror/mode/css/css.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/codemirror/mode/xml/xml.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/codemirror/mode/htmlmixed/htmlmixed.js"></script>

<script src="<?php echo base_url(); ?>assets/admin/plugins/select2/js/select2.full.min.js"></script>
<!-- Bootstrap4 Duallistbox -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/bootstrap4-duallistbox/jquery.bootstrap-duallistbox.min.js"></script>
<!-- InputMask -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/moment/moment.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/inputmask/jquery.inputmask.min.js"></script>
<!-- date-range-picker -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/daterangepicker/daterangepicker.js"></script>
<!-- bootstrap color picker -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js"></script>
<!-- Tempusdominus Bootstrap 4 -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
<!-- Bootstrap Switch -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/bootstrap-switch/js/bootstrap-switch.min.js"></script>
<!-- BS-Stepper -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/bs-stepper/js/bs-stepper.min.js"></script>
<!-- dropzonejs -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/dropzone/min/dropzone.min.js"></script>
<!-- AdminLTE App -->
<script src="<?php echo base_url(); ?>assets/admin/dist/js/adminlte.min.js"></script>
<!-- AdminLTE for demo purposes -->
<script src="<?php echo base_url(); ?>assets/admin/dist/js/demo.js"></script>

<!-- Page specific script -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/select2/js/select2.full.min.js"></script>

<!-- Summernote -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/summernote/summernote-bs4.min.js"></script>
<!-- CodeMirror -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/codemirror/codemirror.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/codemirror/mode/css/css.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/codemirror/mode/xml/xml.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/codemirror/mode/htmlmixed/htmlmixed.js"></script>


<!-- date-range-picker -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/daterangepicker/daterangepicker.js"></script>
<!-- bootstrap color picker -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js"></script>
<!-- Tempusdominus Bootstrap 4 -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
<!-- Bootstrap Switch -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/bootstrap-switch/js/bootstrap-switch.min.js"></script>
<!-- BS-Stepper -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/bs-stepper/js/bs-stepper.min.js"></script>
<!-- dropzonejs -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/dropzone/min/dropzone.min.js"></script>



<script src="<?php echo base_url(); ?>assets/admin/plugins/bootstrap4-duallistbox/jquery.bootstrap-duallistbox.min.js"></script>
<!-- InputMask -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/moment/moment.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/inputmask/jquery.inputmask.min.js"></script>

<!-- DataTables  & Plugins -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/datatables/jquery.dataTables.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/datatables-responsive/js/dataTables.responsive.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/datatables-responsive/js/responsive.bootstrap4.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/datatables-buttons/js/dataTables.buttons.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/datatables-buttons/js/buttons.bootstrap4.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/jszip/jszip.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/pdfmake/pdfmake.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/pdfmake/vfs_fonts.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/datatables-buttons/js/buttons.html5.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/datatables-buttons/js/buttons.print.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/datatables-buttons/js/buttons.colVis.min.js"></script>

<script>
  $(function () {
    $("#example1").DataTable({
      "responsive": true, "lengthChange": false, "autoWidth": false,
      "buttons": ["copy", "csv", "excel", "pdf", "print", "colvis"]
    }).buttons().container().appendTo('#example1_wrapper .col-md-6:eq(0)');
    $('#example2').DataTable({
      "paging": true,
      "lengthChange": false,
      "searching": false,
      "ordering": true,
      "info": true,
      "autoWidth": false,
      "responsive": true,
    });
  });
</script>



<script>  
 $(document).ready(function(){  
 // var email = $('#agent_sess_id').val();  
           var agent_id = '1'; 
           //alert(email);
           if(agent_id != '')  
           {  
                $.ajax({  
                     url:"<?php echo base_url(); ?>agent/dashboard/check_notification_count",  
                     method:"POST",  
                     data:{agent_id:agent_id},  
                     success:function(responce){ 
                        //  console.log(responce);
                        //  console.log('jjjjjjjjjjjjjjjjjjjj');
                         if(responce > 0)
                         {
                            $('#notification_count').append('<i class="fas fa-envelope mr-2"></i> '+responce+' Domestic Packages');
                            // $('#btn_agent').prop('disabled', true)
                             
                         }else
                         {
                             $('#notification_count').html('No Enquiry');
                            //  $('#btn_agent').prop('disabled', false)
                         } 
                     }  
                });  
           }  
      });  
 </script>

<script>  
 $(document).ready(function(){
  $("#notification_count").click(function() {  
 // var email = $('#agent_sess_id').val();  
           var agent_id = '0'; 
           //alert(email);
           if(agent_id != '')  
           {  
                $.ajax({  
                     url:"<?php echo base_url(); ?>agent/dashboard/enquiry_view",  
                     method:"POST",  
                     data:{agent_id:agent_id},  
                     success:function(responce){ 
                         if(responce = true)
                         {
                              // alert(responce);
                          // redirect($this->module_url_path.'agent/booking_enquiry/index');
                          window.location.href = "<?=base_url()?>agent/booking_enquiry/index";
                         }
                     }  
                });  
           } 
          }); 
      });  
 </script>


<script>  
 $(document).ready(function(){  
 // var email = $('#agent_sess_id').val();  
           var agent_id = '1'; 
           //alert(email);
           if(agent_id != '')  
           {  
                $.ajax({  
                     url:"<?php echo base_url(); ?>agent/dashboard/check_international_count",  
                     method:"POST",  
                     data:{agent_id:agent_id},  
                     success:function(responce){ 
                         if(responce > 0)
                         { 
                            $('#international_count').append('<i class="fas fa-users mr-2"></i> '+responce+' International Packages');
                            // $('#btn_agent').prop('disabled', true)
                             
                         }else
                         {
                             $('#international_count').html('No Enquiry');
                            //  $('#btn_agent').prop('disabled', false)
                         } 
                     }  
                });  
           }  
      });  
 </script>

<script>  
 $(document).ready(function(){
  $("#international_count").click(function() {  
 // var email = $('#agent_sess_id').val();  
           var agent_id = '1'; 
           //alert(email);
           if(agent_id != '')  
           {  
                $.ajax({  
                     url:"<?php echo base_url(); ?>agent/dashboard/international_view",  
                     method:"POST",  
                     data:{agent_id:agent_id},  
                     success:function(responce){ 
                         if(responce = true)
                         {
                          // redirect($this->module_url_path.'agent/booking_enquiry/index');
                          window.location.href = "<?=base_url()?>agent/international_booking_enquiry/index";
                         }
                     }  
                });  
           } 
          }); 
      });  
 </script>


    <script type="text/javascript">  
     $(document).ready(function(){

    <?php
    $this->db->where('id',$this->session->userdata('agent_sess_id'));         
    $check_login_data = $this->master_model->getRecord('agent','','password_change');
    if($check_login_data['password_change']=='no' && $this->router->fetch_method()=='change_password'){
        ?>
        $("#agent_change_password").modal("show"); 
        <?php
    }
    ?>  
     });

     
</script>
<script type="text/javascript">  
//      $(document).ready(function(){
//           var login_count = $('#enquiry_login_count').val();
//           if(login_count <=3){
//               $("#agent_change_password").modal("show"); 
//           }
//      });

     
 </script>

<script>
 $(document).ready(function(){
          $('.enq_id').click(function(event) {
             $("#enquiry_id").val($(this).attr("data-enq-id"))
          });
     });

</script>

<script>
 $(document).ready(function(){
          $('.international_enq_id').click(function(event) {
             $("#international_booking_enquiry_id").val($(this).attr("inter-data-enq-id"))
          });
     });

</script>

<!-- todays_domestic_notification_count -->
<!-- ===================================== -->

<script>  
 $(document).ready(function(){  
 // var email = $('#agent_sess_id').val();  
           var agent_id = '1'; 
           //alert(email);
           if(agent_id != '')  
           {  
                $.ajax({  
                     url:"<?php echo base_url(); ?>agent/dashboard/todays_domestic_notification_count",  
                     method:"POST",  
                     data:{agent_id:agent_id},  
                     success:function(responce){ 
                         if(responce > 0)
                         {
                            $('#todays_domestic_count').append('<i class="fas fa-envelope mr-2"></i> '+responce+' Todays Domestic Followup Enquiry');
                            // $('#btn_agent').prop('disabled', true)
                             
                         }else
                         {
                             $('#todays_domestic_count').html('<h6> No Enquiry </h6>');
                            //  $('#btn_agent').prop('disabled', false)
                         } 
                     }  
                });  
           }  
      });  
 </script>

<script>  
 $(document).ready(function(){
  $("#todays_domestic_count").click(function() {  
 // var email = $('#agent_sess_id').val();  
           var agent_id = '0'; 
           //alert(email);
           if(agent_id != '')  
           {  
                $.ajax({  
                     url:"<?php echo base_url(); ?>agent/dashboard/todays_enquiry_view",  
                     method:"POST",  
                     data:{agent_id:agent_id},  
                     success:function(responce){ 
                         if(responce = true)
                         {
                             window.location.href = "<?=base_url()?>agent/todays_domestic_followup_list/index";
                         //  redirect($this->module_url_path.'agent/domestic_booking_enquiry_followup/index');
                         }
                     }  
                });  
           } 
          }); 
      });  
 </script>

<!-- =========================================== -->

<!-- ========international current date followup=================================== -->
<script>  
 $(document).ready(function(){  
 // var email = $('#agent_sess_id').val();  
           var agent_id = '1'; 
           //alert(email);
           if(agent_id != '')  
           {  
                $.ajax({  
                     url:"<?php echo base_url(); ?>agent/dashboard/todays_international_notification_count",  
                     method:"POST",  
                     data:{agent_id:agent_id},  
                     success:function(responce){ 
                        //  console.log(responce);
                        //  console.log('jjjjjjjjjjjjjjjjjjjj');
                         if(responce > 0)
                         {
                            $('#todays_international_count').append('<i class="fas fa-envelope mr-2"></i> '+responce+' Todays Inter Followup Enquiry');
                            // $('#btn_agent').prop('disabled', true)
                             
                         }else
                         {
                             $('#todays_international_count').html('<h6> No Enquiry </h6>');
                            //  $('#btn_agent').prop('disabled', false)
                         } 
                     }  
                });  
           }  
      });  
 </script>

<script>  
 $(document).ready(function(){
  $("#todays_international_count").click(function() {  
 // var email = $('#agent_sess_id').val();  
           var agent_id = '0'; 
           //alert(email);
           if(agent_id != '')  
           {  
                $.ajax({  
                     url:"<?php echo base_url(); ?>agent/dashboard/todays_international_view",  
                     method:"POST",  
                     data:{agent_id:agent_id},  
                     success:function(responce){ 
                         if(responce = true)
                         {
                            window.location.href = "<?=base_url()?>agent/todays_international_followup_list/index";
                         //  redirect($this->module_url_path.'agent/international_booking_enquiry_followup/index');
                         }
                     }  
                });  
           } 
          }); 
      });  
 </script>



 <!-- Seat Info add Per Person -->
<script>

    $(document).ready(function(){
        var count = $('#seat_count').val();
//$('#add_more').click(function() {
   // alert(count);
        //i++;
        for(var i=1; i<count; i++){
var structure = $(`<tr>
                   <td><select class="select_css" name="mrandmrs[]" id="mrandmrs">
                                        <option value="">select Mr / Mrs</option>
                                        <option value="Mr">Mr</option>
                                        <option value="Mrs">Mrs</option>
                                        </select>
                                    </td>
                                    <td>
                                        <input type="text" class="form-control" name="first_name[]" id="first_name">
                                    </td>
                                    <td>
                                        <input type="text" class="form-control" name="middle_name[]" id="middle_name">
                                    </td>
                                    <td>
                                        <input type="text" class="form-control" name="last_name[]" id="last_name">
                                    </td>
                                    <td>
                                        <input type="date" class="form-control" name="dob[]" id="dob">
                                    </td>
                                    <td>
                                    <select class="select_css" name="relation[]" id="relation">
                                        <option value="">Select</option>
                                        <?php
                                        foreach($relation_data as $relation_data_info){ 
                                        ?>
                                        <option value="<?php echo $relation_data_info['id']; ?>"><?php echo $relation_data_info['relation']; ?></option>
                                        <?php } ?>
                                    </select>
                                    </td>
                                    <td>
                                    <input type="file" name="image_name[]" id="image_name">
                                    </td>
                                </tr>`);
        
         
            //alert(i);                       
            $('.table').append(structure); 
        }
});


$(document).on('click', '.btn_remove', function(){  
       var button_id = $(this).attr("id");   
       $('#new_row'+button_id).remove();  
  });

</script>




<!-- Add Stationary request multiple at one time -->
<script>
    

        var i=1;
    $('#add_more').click(function() {
     //   alert('hhhh');
            i++;
var structure = $(`<div class="row w-100" id="new_row${i}">
                    <div class="col-md-5">
                    <div class="form-group">
                 <label>Stationary Requirement:</label>
                    <div class="input-group">
                        <select name="stationary_name[]" class="form-control" id="stationary_name"  required="required"> 
                        <option value="">Select Stationary Requirement</option>
                        <?php foreach($stationary_data as $stationary){ ?> 
                                    <option value="<?php echo $stationary['id'];?>"><?php echo $stationary['stationary_name'];?></option> 
                                    <?php } ?>
                         </select>
                   </div>
                   </div>
                     </div>

                    <div class="col-md-4">
                             <div class="form-group ml-2">
                                <label>Quantity</label>
                                <div class="input-group">
                                <input type="number" class="form-control zero_not" name="stationary_qty[]" onkeyup="my_qty()"  placeholder="Enter Stationary Quantity"  required="required">
                              </div>
                              </div>
                      </div>
                      

                    <div class="col-md-3 mt-4 d-flex justify-content-center align-self-center">
                        <div class="form-group ml-2">
                        <label></label>
                            <button type="button" name="remove" id="${i}" class="btn btn-danger btn_remove">X</button>
                        </div>
                    </div> 
              </div>`);
$('#main_row').append(structure); 

});


$(document).on('click', '.btn_remove', function(){  
           var button_id = $(this).attr("id");   
           $('#new_row'+button_id).remove();  
      });

</script>

<script>  
 $(document).ready(function(){
  $(".btn_follow").click(function() { 
     // alert('jjjjjjjjjj');
     var btn_data=$(this).attr('attr-test');
     // alert(btn_data);
     // if(btn_data=='no'){
     $('.modal_follow').modal('show'); 
     // }
          }); 
      });  
 </script>
 <script>  
 $(document).ready(function(){
  $(".btn_follow_form").click(function() { 
     // alert('jjjjjjjjjj');
     var btn_data=$(this).attr('attr-test');
     // alert(btn_data);
     // if(btn_data=='no'){
     $('.modal_follow_form').modal('show'); 
     // }
          }); 
      });  
 </script>
 
 <script>
$(".received_qty").each(function () {                  
    var received_qty = $(this).val(); 
     // alert(send_qty);
     if(received_qty!='')
     {
          $('.cancel_status').hide();
          $('#received').attr("disabled", true);
     }
     else{
          $('.cancel_status').show();
          $('#received').attr("disabled", false);
     }
 });
</script>

<!-- jquery validation on add Booking Enquiry -->
<script>
$(document).ready(function () {

$('#add_bookingenquiry').validate({ // initialize the plugin
    errorPlacement: function($error, $element) {
    $error.appendTo($element.closest("div"));
  },
    rules: {
        first_name: {
            required: true,
        },
        last_name: {
            required: true,
        },
        mobile_number: {
            required: true,
            maxlength:10,
            minlength:10
        },
		wp_mobile_number: {
            required: true,
            maxlength:10,
            minlength:10
        },
        email_address: {
            required: true,
            email:true
        },
        gender: {
            required: true,
        },
        tour_number: {
            required: true,
        },
        media_source_name: {
            required: true,
        },
		mrandmrs: {
            required: true,
        },
enq_seat_count: {
            required: true,
        },
		other_tour_name: {
            required : function(element) {
                var action = $("#tour_number").val();
                if(action == "Other") { 
                    return true;
                } else {
                    return false;
                }
            }    
        }
        
    },

    messages :{
        first_name : {
            required : "Please enter first name",
        },
        last_name : {
            required : "Please enter last name",
        },
        mobile_number : {
            required : "Please enter mobile number",
            maxlength: "Please enter maximum 10 digit number",
            minlength: "Please enter minimum 10 digit number"
        },
		wp_mobile_number : {
            required : "Please enter mobile number",
            maxlength: "Please enter maximum 10 digit number",
            minlength: "Please enter minimum 10 digit number"
        },
        email_address : {
            required : "Please enter email address",
            email: "Please enter a valid email address"
        },
        gender : {
            required : "Please enter gender",
        },
        tour_number : {
            required : "Please enter tour number",
        },
        media_source_name : {
            required : "Please enter media source name",
        },
		mrandmrs : {
            required : "Please enter Mr / Mrs",
        },
enq_seat_count : {
            required : "Please enter seat count",
        },
		other_tour_name: {       
                required: "Please enter destination name",   
        }
        
    
    }
});

});

</script>
<!-- jquery validation on add Booking Enquiry -->

<!-- jquery validation on edit Booking Enquiry -->
<script>
$(document).ready(function () {

$('#edit_bookingenquiry').validate({ // initialize the plugin
    errorPlacement: function($error, $element) {
    $error.appendTo($element.closest("div"));
  },
    rules: {
        first_name: {
            required: true,
        },
        last_name: {
            required: true,
        },
        mobile_number: {
            required: true,
            maxlength:10,
            minlength:10
        },
		wp_mobile_number: {
            required: true,
            maxlength:10,
            minlength:10
        },
        email_address: {
            required: true,
            email:true
        },
        gender: {
            required: true,
        },
        tour_number: {
            required: true,
        },
        media_source_name: {
            required: true,
        },
		mrandmrs: {
            required: true,
        },
enq_seat_count: {
            required: true,
        },
		other_tour_name: {
            required : function(element) {
                var action = $("#tour_number").val();
                if(action == "Other") { 
                    return true;
                } else {
                    return false;
                }
            }    
        }
        
    },

    messages :{
        first_name : {
            required : "Please enter first name",
        },
        last_name : {
            required : "Please enter last name",
        },
        mobile_number : {
            required : "Please enter mobile number",
            maxlength: "Please enter maximum 10 digit number",
            minlength: "Please enter minimum 10 digit number"
        },
		wp_mobile_number : {
            required : "Please enter mobile number",
            maxlength: "Please enter maximum 10 digit number",
            minlength: "Please enter minimum 10 digit number"
        },
        email_address : {
            required : "Please enter email address",
            email: "Please enter a valid email address"
        },
        gender : {
            required : "Please enter gender",
        },
        tour_number : {
            required : "Please enter tour number",
        },
        media_source_name : {
            required : "Please enter media source name",
        },
		mrandmrs : {
            required : "Please enter Mr / Mrs",
        },
enq_seat_count : {
            required : "Please enter seat count",
        },
		other_tour_name: {       
                required: "Please enter destination name",   
        }
        
    
    }
});

});

</script>
<!-- jquery validation on edit Booking Enquiry -->
<!-- jquery validation on add international Enquiry -->
<script>
$(document).ready(function () {

$('#add_internationalenquiry').validate({ // initialize the plugin
    errorPlacement: function($error, $element) {
    $error.appendTo($element.closest("div"));
  },
    rules: {
        first_name: {
            required: true,
        },
        last_name: {
            required: true,
        },
        mobile_number: {
            required: true,
            maxlength:10,
            minlength:10
        },
		wp_mobile_number: {
            required: true,
            maxlength:10,
            minlength:10
        },
        email_address: {
            required: true,
            email:true
        },
        gender: {
            required: true,
        },
        packages: {
            required: true,
        },
        media_source_name: {
            required: true,
        },
		other_tour_name: {
            required : function(element) {
                var action = $("#packages").val();
                if(action == "Other") { 
                    return true;
                } else {
                    return false;
                }
            }    
        }
        
    },

    messages :{
        first_name : {
            required : "Please enter first name",
        },
        last_name : {
            required : "Please enter last name",
        },
        mobile_number : {
            required : "Please enter mobile number",
            maxlength: "Please enter maximum 10 digit number",
            minlength: "Please enter minimum 10 digit number"
        },
		wp_mobile_number : {
            required : "Please enter mobile number",
            maxlength: "Please enter maximum 10 digit number",
            minlength: "Please enter minimum 10 digit number"
        },
        email_address : {
            required : "Please enter email address",
            email: "Please enter a valid email address"
        },
        gender : {
            required : "Please enter gender",
        },
        packages : {
            required : "Please enter tour number",
        },
        media_source_name : {
            required : "Please enter media source name",
        },
		other_tour_name : {
            required : "Please enter destination name",
        }
        
    
    }
});

});

</script>
<!-- jquery validation on add international Enquiry -->

<script>
    $(document).ready(function () {
        var element=document.getElementById('other_tour_name_div');
		//var element2=document.getElementById('other_tour_name');
        var tno = $("#packages").val();
        if(tno=='Other')
        {
        element.style.display='block';
        }
        else{
        element.style.display='none';
		//element2.value="";
        }
        });
</script>

<!-- jquery validation on edit international Enquiry -->
<script>
$(document).ready(function () {

$('#edit_internationalenquiry').validate({ // initialize the plugin
    errorPlacement: function($error, $element) {
    $error.appendTo($element.closest("div"));
  },
    rules: {
        first_name: {
            required: true,
        },
        last_name: {
            required: true,
        },
        mobile_number: {
            required: true,
            maxlength:10,
            minlength:10
        },
		wp_mobile_number: {
            required: true,
            maxlength:10,
            minlength:10
        },
        email_address: {
            required: true,
            email:true
        },
        gender: {
            required: true,
        },
        packages: {
            required: true,
        },
        media_source_name: {
            required: true,
        },
		other_tour_name: {
            required : function(element) {
                var action = $("#packages").val();
                if(action == "Other") { 
                    return true;
                } else {
                    return false;
                }
            }    
        }
        
    },

    messages :{
        first_name : {
            required : "Please enter first name",
        },
        last_name : {
            required : "Please enter last name",
        },
        mobile_number : {
            required : "Please enter mobile number",
            maxlength: "Please enter maximum 10 digit number",
            minlength: "Please enter minimum 10 digit number"
        },
		wp_mobile_number : {
            required : "Please enter mobile number",
            maxlength: "Please enter maximum 10 digit number",
            minlength: "Please enter minimum 10 digit number"
        },
        email_address : {
            required : "Please enter email address",
            email: "Please enter a valid email address"
        },
        gender : {
            required : "Please enter gender",
        },
        packages : {
            required : "Please enter tour number",
        },
        media_source_name : {
            required : "Please enter media source name",
        },
		other_tour_name : {
            required : "Please enter destination name",
        }
        
    
    }
});

});

</script>
<!-- jquery validation on edit international Enquiry -->

<!-- jquery validation on edit agent profile -->
<script>
$(document).ready(function () {

$('#edit_agentprofile').validate({ // initialize the plugin
    errorPlacement: function($error, $element) {
    $error.appendTo($element.closest("div"));
  },
    rules: {
        city: {
            required: true,
        },
        booking_center: {
            required: true,
        },
        agent_name: {
            required: true,
        },
        mobile_number1: {
            required: true,
            maxlength:10,
            minlength:10
        },
        mobile_number2: {
            maxlength:10,
            minlength:10
        },
        email: {
            required: true,
            email:true
        },
        office_address: {
            required: true,
        },
        old_img_name: {
            required: true,
        }
        
    },

    messages :{
     city : {
            required : "Please enter city name",
        },
        booking_center : {
            required : "Please enter booking center",
        },
        agent_name : {
            required : "Please enter agent name",
        },
        mobile_number1 : {
            required : "Please enter mobile number",
            maxlength: "Please enter maximum 10 digit number",
            minlength: "Please enter minimum 10 digit number"
        },
        mobile_number2 : {
            maxlength: "Please enter maximum 10 digit number",
            minlength: "Please enter minimum 10 digit number"
        },
        email : {
            required : "Please enter email address",
            email: "Please enter a valid email address"
        },
        office_address : {
            required : "Please enter office address",
        },
        old_img_name : {
            required : "Please upload image",
        }
        
    
    }
});

});

</script>
<!-- jquery validation on edit agent profile -->

<!-- jquery validation on add profile(change password) -->
<script>
$(document).ready(function () {

$('#add_changepassword').validate({ // initialize the plugin
    errorPlacement: function($error, $element) {
    $error.appendTo($element.closest("div"));
  },
    rules: {
     old_pass: {
            required: true,
        },
        new_password: {
            required: true,
            minlength: 6,
			notEqualTo:"#old_pass"
        },
        confirm_pass: {
            required: true,
            equalTo: "#new_password", 
            minlength: 6
        }
    },

    messages :{
     old_pass : {
            required : "Please enter old password",
        },
        new_password : {
            required : "Please enter new password",
            minlength : "Please enter 6 digit or character length",
			notEqualTo : "New password and Old Password Same",
        },
        confirm_pass : {
            required : "Please enter confirm password",
            equalTo : "New password and Confirm Password can't match",
            minlength : "Please enter 6 digit or character length"
        }
    
    }
});

});

</script>

<script>
$('#received').attr("disabled", true);

$('.received_qty').on('keyup', function() {

     var p=$(this).val(); 
     console.log(p); 
     var currentRow=$(this).closest("tr"); 
     var col3=currentRow.find("td:eq(2)").text(); 
     console.log(parseInt(col3));
     if(parseInt(p) <= parseInt(col3) && p >0)
     {
         
$(".received_qty").each(function () {                
    var s_send = $(this).val(); 
     if(s_send!='')
     {
          $('#received').attr("disabled", false);
     }
     else{
          $('#received').attr("disabled", true);
     }
     });
}else{
     $('#received').attr("disabled", true);
     alert('Please enter less or exact quantity sent');
}
});
</script>
<!-- jquery validation on add profile(change password)  -->

<!-- todays notification count ------------------------------------------------------>

<script>  
 $(document).ready(function(){  
 // var email = $('#agent_sess_id').val();  
           var agent_id = '1'; 
           //alert(email);
           if(agent_id != '')  
           {  
                $.ajax({  
                     url:"<?php echo base_url(); ?>agent/dashboard/todays_check_total_notification_count",  
                     method:"POST",  
                     data:{agent_id:agent_id},  
                     success:function(todays_responce){ 
                        //  console.log(todays_responce);
                        //  console.log('jjjjjjjjjjjjjjjjjjjj');
                         if(todays_responce > 0)
                         {
                            $('#todays_notification_count').append(''+todays_responce+'');
                            // $('#btn_agent').prop('disabled', true)
                             
                         }else
                         {
                             $('#todays_notification_count').html('No Followup');
                            //  $('#btn_agent').prop('disabled', false)
                         } 
                     }  
                });  
           }  
      });  
 </script>

<!-- todays notification count =------------------------------------------------>

<!-- total notification count ------------------------------------------------------>
<script>  
 $(document).ready(function(){  
 // var email = $('#agent_sess_id').val();  
           var agent_id = '1'; 
           //alert(email);
           if(agent_id != '')  
           {  
                $.ajax({  
                     url:"<?php echo base_url(); ?>agent/dashboard/check_total_notification_count",  
                     method:"POST",  
                     data:{agent_id:agent_id},  
                     success:function(responce){ 
                        //  console.log(responce);
                        //  console.log('jjjjjjjjjjjjjjjjjjjj');
                         if(responce > 0)
                         {
                            $('#total_notification_count').append(''+responce+'');
                            // $('#btn_agent').prop('disabled', true)
                             
                         }else
                         {
                             $('#total_notification_count').html('No Enquiry');
                            //  $('#btn_agent').prop('disabled', false)
                         } 
                     }  
                });  
           }  
      });  
 </script>
<!-- total notification count =------------------------------------------------>


<!--Approve profile change request----------------->

<!-- Approve profile edit using ajax -->

<script>
  $("#submit").click(function() { 
   
     var temp_tbl_id =  $("#submit").val();
// alert(temp_tbl_id);

     if(temp_tbl_id!='')
     {
          $.ajax({
                          type: "POST",
                          url:'<?=base_url()?>admin/profile_edit_req/approve',
                          data: {request_id: temp_tbl_id
                           },
                         //  dataType: 'json',
                         //  cache: false,
                          success: function(response) {
                              console.log(response);
                               if (response= true) {
                                window.location.href = "<?=base_url()?>admin/profile_edit_req/index";
                                  
                              } else {
                                  alert('error');

                              }
                          },
                          
                      });
     }
     // else{
     //      $('.sendButton').attr("disabled", true);
     // }
}); 

</script>

<script type="text/javascript">
    function CheckColors(val){
    var element=document.getElementById('other_tour_name_div');
	var element2=document.getElementById('other_tour_name');
    if(val=='Other')
    element.style.display='block';
    else  
    element.style.display='none';
	element2.value="";	
    }

</script>

<!-- jquery validation on add booking basic info-->
<script>
$(document).ready(function () {

$('#booking_basic_info').validate({ // initialize the plugin
    errorPlacement: function($error, $element) {
    $error.appendTo($element.closest("div"));
  },
    rules: {
        booking_office: {
            required: true,
        },
        boarding_office_location: {
            required: true,
        },
        mrandmrs: {
            required: true,
        },
        surname: {
            required: true,
        },
        first_name: {
            required: true,
        },
        middle_name: {
            required: true,
        },
        tour_no: {
            required: true,
        },
        tour_date: {
            required: true,
        },
        hotel_type: {
            required: true,
        },
        seat_count: {
            required: true,
        },
        mobile_number: {
            required: true,
            maxlength:10,
            minlength:10
        },
        media_source_name: {
            required: true,
        },
        gender: {
            required: true,
        }
        
    },

    messages :{
        booking_office : {
            required : "Please enter booking office",
        },
        boarding_office_location : {
            required : "Please select boarding office location",
        },
        mrandmrs : {
            required : "Please select Mr / Mrs",
        },
        surname : {
            required : "Please enter surname",
        },
        first_name : {
            required : "Please enter first name",
        },
        middle_name : {
            required : "Please enter middle name",
        },
        tour_no : {
            required : "Please select tour no",
        },
        tour_date : {
            required : "Please select tour date",
        },
        hotel_type : {
            required : "Please enter hotel type",
        },
        seat_count : {
            required : "Please enter seat count",
        },
        mobile_number : {
            required : "Please enter mobile number",
            maxlength: "Please enter maximum 10 digit number",
            minlength: "Please enter minimum 10 digit number"
        },
        media_source_name : {
            required : "Please select media source name",
        },
        gender : {
            required : "Please select gender",
        }
    }
});

});

</script>
<!-- jquery validation on add booking basic info -->

<!-- jquery validation on add bus seat selection-->
<script>
$(document).ready(function () {

$('#bus_seat_selection').validate({ // initialize the plugin
    errorPlacement: function($error, $element) {
    $error.appendTo($element.closest("div"));
  },
    rules: {
        boarding_office_location: {
            required: true,
        },
        tour_no: {
            required: true,
        },
        tour_date: {
            required: true,
        },
        hotel_type: {
            required: true,
        } 
    },

    messages :{
        boarding_office_location : {
            required : "Please select boarding office location",
        },
        tour_no : {
            required : "Please select tour no",
        },
        tour_date : {
            required : "Please select tour date",
        },
        hotel_type : {
            required : "Please enter hotel type",
        }
    }
});

});

</script>
<!-- jquery validation on add bus seat selection -->

<!-- jquery validation on add all traveller info-->
<script>
$(document).ready(function () {

$('#all_traveller_info').validate({ // initialize the plugin
    errorPlacement: function($error, $element) {
    $error.appendTo($element.closest("td,div"))
  },
    rules: {
        mrandmrs: {
            required: true,
        },
        first_name: {
            required: true,
        },
        middle_name: {
            required: true,
        },
        last_name: {
            required: true,
        }, 
        dob: {
            required: true,
        },
        relation: {
            required: true,
        },
        image_name: {
            required: true,
        },
        flat_no: {
            required: true,
        },
        building_house_nm: {
            required: true,
        },
        street_name: {
            required: true,
        },
        landmark: {
            required: true,
        },
        all_traveller_state: {
            required: true,
        },
        all_traveller_district: {
            required: true,
        },
        all_traveller_taluka: {
            required: true,
        },
        all_traveller_city: {
            required: true,
        },
        pincode: {
            required: true,
        },
        std_code: {
            required: true,
        },
        mobile_no: {
            required: true,
            maxlength:10,
            minlength:10
        },
        phone_no: {
            required: true,
            maxlength:10,
            minlength:10
        },
        email_id: {
            required: true,
        }
    },

    messages :{
        mrandmrs : {
            required : "Please select Mr / Mrs",
        },
        first_name : {
            required : "Please enter first name",
        },
        middle_name : {
            required : "Please enter middle name",
        },
        last_name : {
            required : "Please enter last name",
        },
        dob : {
            required : "Please select date of birth",
        },
        relation : {
            required : "Please select relation",
        },
        image_name : {
            required : "Please upload photo",
        },
        flat_no : {
            required : "Please enter flat no",
        },
        building_house_nm : {
            required : "Please enter Building / House Name",
        },
        street_name : {
            required : "Please enter street name",
        },
        landmark : {
            required : "Please enter landmark",
        },
        all_traveller_state : {
            required : "Please select state",
        },
        all_traveller_district : {
            required : "Please select district",
        },
        all_traveller_taluka : {
            required : "Please select taluka",
        },
        all_traveller_city : {
            required : "Please enter city",
        },
        pincode : {
            required : "Please enter pincode",
        },
        std_code : {
            required : "Please enter std code",
        },
        mobile_no : {
            required : "Please enter mobile number",
            maxlength: "Please enter maximum 10 digit number",
            minlength: "Please enter minimum 10 digit number"
        },
        phone_no : {
            required : "Please enter mobile number",
            maxlength: "Please enter maximum 10 digit number",
            minlength: "Please enter minimum 10 digit number"
        },
        email_id : {
            required : "Please enter email id",
        }
    }
});
});
</script>
<!-- jquery validation on add all traveller info -->

<!-- bus seat selection form  boarding office location start -->
<script type='text/javascript'>
  // baseURL variable
  var baseURL= "<?php echo base_url();?>";
 
  $(document).ready(function(){
 
    // district change
    $('#tour_no').change(function(){
      var did = $(this).val();
    //   alert(did); 
      // AJAX request
      $.ajax({
        url:'<?=base_url()?>agent/booking_basic_info/getBlock',
        method: 'post',
        data: {did: did},
        dataType: 'json',
        success: function(response){
        console.log(response);
        
          $('#boarding_office_location').find('option').not(':first').remove();
       
          $.each(response,function(index,data){       
             $('#boarding_office_location').append('<option value="'+data['id']+'">'+data['booking_center']+'</option>');
          });
          tour_dates();
        }
     });
   });
 });
 </script>

<script type='text/javascript'>
  // baseURL variable
  var baseURL= "<?php echo base_url();?>";
 
//   $(document).ready(function(){
 
    // district change
    function tour_dates(){
      var did = $("#tour_no").val();
    //    alert(did_tour); 
      // AJAX request
      $.ajax({
        url:'<?=base_url()?>agent/booking_basic_info/get_tourdate',
        method: 'post',
        data: {did: did},
        dataType: 'json',
        success: function(response){
        console.log(response);
        
          $('#tour_date').find('option').not(':first').remove();
       
          $.each(response,function(index,data){       
             $('#tour_date').append('<option value="'+data['id']+'">'+data['journey_date']+'</option>');
          });
        }
     });
   }
//  });
 </script>
<!-- booking bus seat selection boarding office location start -->

<!-- booking all traveller info (state,district,taluka) start -->
<script type='text/javascript'>
  // baseURL variable
  var baseURL= "<?php echo base_url();?>";
 
  $(document).ready(function(){
 
    // district change
    $('#all_traveller_state').change(function(){
      var did = $(this).val();
    //   alert(did); 
      // AJAX request
      $.ajax({
        url:'<?=base_url()?>agent/all_traveller_info/get_district',
        method: 'post',
        data: {did: did},
        dataType: 'json',
        success: function(response){
        console.log(response);
        
          $('#all_traveller_district').find('option').not(':first').remove();
       
          $.each(response,function(index,data){       
             $('#all_traveller_district').append('<option value="'+data['id']+'">'+data['district']+'</option>');
          });
         
        }
     });
   });
 });
 </script>

<script type='text/javascript'>
  // baseURL variable
  var baseURL= "<?php echo base_url();?>";
 
  $(document).ready(function(){
 
    // district change
    $('#all_traveller_district').change(function(){
      var did = $(this).val();
    //   alert(did); 
      // AJAX request
      $.ajax({
        url:'<?=base_url()?>agent/all_traveller_info/get_taluka',
        method: 'post',
        data: {did: did},
        dataType: 'json',
        success: function(response){
        console.log(response);
        
          $('#all_traveller_taluka').find('option').not(':first').remove();
       
          $.each(response,function(index,data){       
             $('#all_traveller_taluka').append('<option value="'+data['id']+'">'+data['Taluka']+'</option>');
          });
         
        }
     });
   });
 });
 </script>


<!-- booking all traveller info (state,district,taluka) start -->

<!-- bus seat selection form  boarding office location start -->
<script type='text/javascript'>
  // baseURL variable
  var baseURL= "<?php echo base_url();?>";
 
  $(document).ready(function(){
 
    // district change
    $('#tour_no').change(function(){
      var did = $(this).val();
    //   alert(did); 
      // AJAX request
      $.ajax({
        url:'<?=base_url()?>agent/inter_bus_seat_selection/inter_getBlock',
        method: 'post',
        data: {did: did},
        dataType: 'json',
        success: function(response){
        console.log(response);
        
          $('#boarding_office_location').find('option').not(':first').remove();
       
          $.each(response,function(index,data){       
             $('#boarding_office_location').append('<option value="'+data['id']+'">'+data['booking_center']+'</option>');
          });
          inter_tour_dates();
        }
     });
   });
 });
 </script>

<script type='text/javascript'>
  // baseURL variable
  var baseURL= "<?php echo base_url();?>";
 
//   $(document).ready(function(){
 
    // district change
    function inter_tour_dates(){
      var did = $("#tour_no").val();
    //    alert(did_tour); 
      // AJAX request
      $.ajax({
        url:'<?=base_url()?>agent/inter_bus_seat_selection/inter_get_tourdate',
        method: 'post',
        data: {did: did},
        dataType: 'json',
        success: function(response){
        console.log(response);
        
          $('#tour_date').find('option').not(':first').remove();
       
          $.each(response,function(index,data){       
             $('#tour_date').append('<option value="'+data['id']+'">'+data['journey_date']+'</option>');
          });
        }
     });
   }
//  });
 </script>
<!-- booking bus seat selection boarding office location start -->

<!-- jquery validation on add international Enquiry -->
<script>
$(document).ready(function () {

$('#add_internationalenquiry').validate({ // initialize the plugin
    errorPlacement: function($error, $element) {
    $error.appendTo($element.closest("div"));
  },
    rules: {
        mrandmrs: {
            required: true,
        },
        first_name: {
            required: true,
        },
        last_name: {
            required: true,
        },
        mobile_number: {
            required: true,
            maxlength:10,
            minlength:10
        },
        email_address: {
            required: true,
            email:true
        },
        gender: {
            required: true,
        },
        packages: {
            required: true,
        },
        media_source_name: {
            required: true,
        },
        enq_seat_count: {
            required: true,
        }
        
    },

    messages :{
        mrandmrs : {
            required : "Please select Mr / Mrs",
        },
        first_name : {
            required : "Please enter first name",
        },
        last_name : {
            required : "Please enter last name",
        },
        mobile_number : {
            required : "Please enter mobile number",
            maxlength: "Please enter maximum 10 digit number",
            minlength: "Please enter minimum 10 digit number"
        },
        email_address : {
            required : "Please enter email address",
            email: "Please enter a valid email address"
        },
        gender : {
            required : "Please enter gender",
        },
        packages : {
            required : "Please enter tour number",
        },
        media_source_name : {
            required : "Please enter media source name",
        },
        enq_seat_count : {
            required : "Please enter seat count",
        }
        
    
    }
});

});

</script>
<!-- jquery validation on add international Enquiry -->

<!-- jquery validation on edit international Enquiry -->
<script>
$(document).ready(function () {

$('#edit_internationalenquiry').validate({ // initialize the plugin
    errorPlacement: function($error, $element) {
    $error.appendTo($element.closest("div"));
  },
    rules: {
        mrandmrs: {
            required: true,
        },
        first_name: {
            required: true,
        },
        last_name: {
            required: true,
        },
        mobile_number: {
            required: true,
            maxlength:10,
            minlength:10
        },
        email_address: {
            required: true,
            email:true
        },
        gender: {
            required: true,
        },
        packages: {
            required: true,
        },
        media_source_name: {
            required: true,
        },
        enq_seat_count: {
            required: true,
        }
        
    },

    messages :{
        mrandmrs : {
            required : "Please select Mr / Mrs",
        },
        first_name : {
            required : "Please enter first name",
        },
        last_name : {
            required : "Please enter last name",
        },
        mobile_number : {
            required : "Please enter mobile number",
            maxlength: "Please enter maximum 10 digit number",
            minlength: "Please enter minimum 10 digit number"
        },
        email_address : {
            required : "Please enter email address",
            email: "Please enter a valid email address"
        },
        gender : {
            required : "Please enter gender",
        },
        packages : {
            required : "Please enter tour number",
        },
        media_source_name : {
            required : "Please enter media source name",
        },
        enq_seat_count : {
            required : "Please enter seat count",
        }
        
    
    }
});

});

</script>
<!-- jquery validation on edit international Enquiry -->

<!-- error for insert greater than 0 value in stationary order page -->
<script>
function my_qty() {
    
$(".zero_not").each(function () {                
    var required_qty = $(this).val();
    if(required_qty=='0'){
        alert('Please insert a quantity greater than 0.');
        $('#no_zero').prop('disabled', true);   
       return false;
        
    }else{
        // alert('else');
        $('#no_zero').prop('disabled', false);   
    } 
     });

};
</script>

<script>
 $(document).ready(function(){
    var _URL = window.URL || window.webkitURL;
        $("#image_name").change(function (e) {
    
        var file_size = this.files[0].size;
        // alert(file_size);
        $('#image_name_hidden').val(file_size);
       var img_name2_size=  $('#image_name2_hidden').val();

    //    alert(this.files[0].size);
    //    alert('img_name2_size',img_name2_size);

        if(file_size > 2097152 || img_name2_size > 2097152){
            $('#img_size').show();
            alert('Image Size Should Be Less Than 2 MB.');
            $('#supervision_req_submit').prop('disabled', true)
        }else{
            $('#img_size').hide();
            $('#supervision_req_submit').prop('disabled', false)
        }
    
    });
    });
</script>

<script>
 $(document).ready(function(){
    var _URL = window.URL || window.webkitURL;
        $("#image_name2").change(function (e) {
        var file_size = this.files[0].size;

        $('#image_name2_hidden').val(file_size);

        var img_name_size=$('#image_name_hidden').val();
            
    //     alert(this.files[0].size);
    //    alert('img_name_size',img_name_size);

        if(file_size > 2097152 || img_name_size > 2097152){
            $('#img_size2').show();
            alert('Image Size Should Be Less Than 2 MB.');
            $('#supervision_req_submit').prop('disabled', true)
        }else{
            $('#img_size2').hide();
            $('#supervision_req_submit').prop('disabled', false)
        }
    
    });
    });
</script>

<script>
 $(document).ready(function(){
    var _URL = window.URL || window.webkitURL;
        $("#image_name3").change(function (e) {
            var file_size = this.files[0].size;

            $('#image_name3_hidden').val(file_size);

            var img_name_size=$('#image_name_hidden').val();
            var img_name2_size=  $('#image_name2_hidden').val();

        if(file_size > 2097152 || img_name_size > 2097152 || img_name2_size > 2097152){
            $('#img_size3').show();
            alert('Image Size Should Be Less Than 2 MB.');
            $('#supervision_req_submit').prop('disabled', true)
        }else{
            $('#img_size3').hide();
            $('#supervision_req_submit').prop('disabled', false)
        }
    
    });
    });
</script>

<!-- Agent add info (state,district,taluka) start -->
<script type='text/javascript'>
  // baseURL variable
  var baseURL= "<?php echo base_url();?>";
 
  $(document).ready(function(){
 
    // district change
    $('#agent_state').change(function(){
      var did = $(this).val();
    //   alert(did); 
      // AJAX request
      $.ajax({
        url:'<?=base_url()?>agent/profile/get_district',
        method: 'post',
        data: {did: did},
        dataType: 'json',
        success: function(response){
        console.log(response);
        
          $('#agent_district').find('option').not(':first').remove();
       
          $.each(response,function(index,data){       
             $('#agent_district').append('<option value="'+data['id']+'">'+data['district']+'</option>');
          });
         
        }
     });
   });
 });
 </script>

<script type='text/javascript'>
  // baseURL variable
  var baseURL= "<?php echo base_url();?>";
 
  $(document).ready(function(){
 
    // district change
    $('#agent_district').change(function(){
      var did = $(this).val();
    //   alert(did); 
      // AJAX request
      $.ajax({
        url:'<?=base_url()?>agent/profile/get_taluka',
        method: 'post',
        data: {did: did},
        dataType: 'json',
        success: function(response){
        console.log(response);
        
          $('#agent_taluka').find('option').not(':first').remove();
       
          $.each(response,function(index,data){       
             $('#agent_taluka').append('<option value="'+data['id']+'">'+data['taluka']+'</option>');
          });
         
        }
     });
   });
 });
 </script>
 
 <!--the below code is added on 09/04/2025 by mahesh-->
 <!-- SRA form radio button working -->
<script>
    function first_payment_main() {
        document.getElementById('firstly_submit_form').style.display = 'block';
        document.getElementById('partially_submit_form').style.display = 'none';
        document.getElementById('sevices_submit_form').style.display = 'none';
        document.getElementById('partial_table').style.display = 'none';
    }

    function partially_payment_sub() {
      console.log('partially_payment_sub function called');
        document.getElementById('partially_submit_form').style.display = 'block';
        document.getElementById('firstly_submit_form').style.display = 'none';
        document.getElementById('sevices_submit_form').style.display = 'none';
        document.getElementById('partial_table').style.display = 'block';

    }

    function extra_services() {
        document.getElementById('sevices_submit_form').style.display = 'block';
        document.getElementById('firstly_submit_form').style.display = 'none';
        document.getElementById('partially_submit_form').style.display = 'none';
        document.getElementById('partial_table').style.display = 'none';

    }
</script>

 <!-- -------------------------------- -->
 
 <script>

    $(document).ready(function(){

    $('#sra_tour_number').change(function(){

    var did = $(this).val();

      $.ajax({
        url:'<?=base_url()?>agent/add_sra_form/get_tourdate',
        method: 'post',
        data: {did: did},
        dataType: 'json',
        success: function(response){
        // console.log(response);
          $('#tour_date').find('option').not(':first').remove();
          $.each(response,function(index,data){      
             $('#tour_date').append('<option value="'+data['id']+'">'+data['journey_date']+'</option>');
          });
        }
     });
   });
});

</script>

<!-- sra form in that extra services add more -->

    <script>
        $(document).ready(function() {
            $('.extra_services').change(function() {
                var selectedOption = $(this).val();
                if (selectedOption === 'Other_services') {
                    $('#other_services').show().prop('required', true);
                } else {
                    $('#other_services').hide().prop('required', false);
                }
            });
        });
    </script>

<script>
    $(document).ready(function() {
        $("#extra_services_add_more").click(function() {
            var expence = $(this).attr('attr_add_id');
            
            var i= parseInt(expence)+parseInt(1);
            // alert(i);
            var expence = $(this).attr('attr_add_id',i);
            var newRow = `
                <tr>
                    <td>
                        <select class="select_css extra_services" name="sra_extra_services[]" id="sra_extra_services`+i+`" required>
                            <option value="">Select </option>
                            <option value="Other_services">Other</option>
                            <?php
                                foreach($special_req_master as $special_req_master_data_value) 
                                {
                            ?>
                                <option value="<?php echo $special_req_master_data_value['id'];?>"><?php echo $special_req_master_data_value['service_name'];?></option>
                            <?php } ?>
                        </select>
                        <input type="text" class="form-control mt-4 other_services_input" name="other_services[]" id="other_services${i}" placeholder="Enter extra services name" value="" style="display: none;">
                    </td>
                    <td><input type="text" class="form-control services_quantity" name="services_quantity[]" id="services_quantity`+i+`" placeholder="Enter quantity" oninput="this.value = this.value.replace(/[^0-9]/g, '');" required></td>
                    <td><textarea type="text" class="form-control services_remark" name="extra_services_remark[]" id="extra_services_remark`+i+`" placeholder="Enter reamrk"></textarea>
                    <td>
                        <button type="button" class="btn btn-danger remove-row">Remove</button>
                    </td>
                </tr>
            `;
            $("#services_table tbody").append(newRow);
            i++;
        });
        
        // Remove a row when the "Remove" button is clicked
        $(document).on("click", ".remove-row", function() {
            $(this).closest("tr").remove();
        });

        $(document).on("change", ".extra_services", function() {
        var selectedOption = $(this).val();
        var otherServicesInput = $(this).closest("tr").find(".other_services_input");
        if (selectedOption === "Other_services") {
            otherServicesInput.show().prop("required", true);
        } else {
            otherServicesInput.hide().prop("required", false);
        }
    });
        
    });
</script>
<!-- sra form in that extra services add more -->

<script type="text/javascript">
    function account_details(val){
    var booking_preview = $('#select_transaction').val();
    var booking_preview_mobno = $('#sra_booking_tm_mobile_no').val();
    var booking_preview_amt = $('#booking_amt').val();
    // alert(booking_preview_amt);

    if(booking_preview == 'CASH' && booking_preview_mobno != '' && booking_preview_amt != ''){
        $("#sra_submit_otp").attr("disabled", true);
    }else if(booking_preview == 'UPI'){
        $("#sra_submit_otp").attr("disabled", true);
    }else if(booking_preview == 'QR Code'){
        $("#sra_submit_otp").attr("disabled", true);
    }else if(booking_preview == 'Cheque'){
        $("#sra_submit_otp").attr("disabled", true);
    }else if(booking_preview == 'Net Banking'){
        $("#sra_submit_otp").attr("disabled", true);
    }else if(booking_preview == 'Demand Draft'){
        $("#sra_submit_otp").attr("disabled", true);
    }
    // else if(booking_preview == 'Demand Draft'){
    //     $("#sra_submit_otp").attr("disabled", true);
    // }
    var element=document.getElementById('net_banking_tr');
	var element2=document.getElementById('net_banking');

    var upi_no_div=document.getElementById('upi_no_div');
	var upi_no=document.getElementById('upi_no');

    var mob_no_div=document.getElementById('cheque_tr');
	// var mob_no=document.getElementById('cheque');

    var rq_div=document.getElementById('rq_div');
	var mob_no_bank=document.getElementById('bank_name');

    var cash_no_div=document.getElementById('cash_tr');
	var cash_no=document.getElementById('cash');

	var Demand_draft_tr_div=document.getElementById('Demand_draft_tr');
	// var cash_no=document.getElementById('cash');

    if(val=='Net Banking'){
    upi_no_div.style.display='none';
    mob_no_div.style.display='none';
    rq_div.style.display='none';
    cash_no_div.style.display='none';
    element.style.display='contents';
    Demand_draft_tr.style.display='none';
    
    }else if(val=='') {
    element.style.display='none';
    mob_no_div.style.display='none';
    rq_div.style.display='none';
    cash_no_div.style.display='none';
    upi_no_div.style.display='none';
    Demand_draft_tr.style.display='none';
	// element2.value="";

    }else if(val=='UPI') {
    element.style.display='none';
    mob_no_div.style.display='none';
    rq_div.style.display='none';
    cash_no_div.style.display='none';
    upi_no_div.style.display='contents';
    Demand_draft_tr.style.display='none';
	// element2.value="";

    }else if(val=='QR Code') {
    element.style.display='none';
    mob_no_div.style.display='none';
    cash_no_div.style.display='none';
    upi_no_div.style.display='none';
    rq_div.style.display='contents';
    Demand_draft_tr.style.display='none';
	// element2.value="";

    }else if(val=='Cheque'){
        element.style.display='none';
        upi_no_div.style.display='none';
        cash_no_div.style.display='none';
        rq_div.style.display='none';
        mob_no_div.style.display='contents';
        mob_no_one.style.display='contents';
        Demand_draft_tr.style.display='none';
    }else if(val=='CASH'){
        element.style.display='none';
        rq_div.style.display='none';
        upi_no_div.style.display='none';
        cash_no_div.style.display='flex';
        mob_no_div.style.display='none';
        Demand_draft_tr.style.display='none';
    }
    else if(val=='Demand Draft'){
        element.style.display='none';
        upi_no_div.style.display='none';
        cash_no_div.style.display='none';
        rq_div.style.display='none';
        mob_no_div.style.display='none';
        Demand_draft_tr.style.display='contents';
    }
    }
</script>

<script>
//============= firstly booking ======================================== 
function sra_booking_amt_not_greater() {
    // alert("dfhsdfsgsdj");
    // Get values from the input boxes
    var finalAmt = parseFloat(document.getElementById('final_amt').value);
    var bookingAmt = parseFloat(document.getElementById('booking_amt').value);

    // Calculate remaining amount
    var remainingAmt = finalAmt - bookingAmt;
    // alert(remainingAmt);

    // Check if remaining amount is less than zero
    if (remainingAmt < 0) {
        alert("Remaining amount goes greater then final amount!");
        // Reset the booking amount to prevent going below 0
        document.getElementById('booking_amt').value = finalAmt;
        // Recalculate remaining amount
        remainingAmt = 0;
    }

    // Update the pending amount input box
    document.getElementById('pending_amt').value = remainingAmt;
}
//============= firstly booking ======================================== 
</script>

<!-- pending amount Next Booking Amount calculation -->
<script>
    $(document).ready(function(){
        $("#booking_amt").on("keyup", function() {
            var enquiry_id=$("#enquiry_id").val();
            // alert(enquiry_id);
            var final_amt=$("#final_amt").val();
            // alert(final_amt);
            var current_val=$("#booking_amt").val();
            // alert(current_val);

            $.ajax({
                url:'<?=base_url()?>agent/pay_pending_amount/get_payment_type',
                method: 'post',
                data: {enquiry_id: enquiry_id},
                dataType: 'json',
                success: function(response){
                console.log(response);
                if(response.length === 0 && current_val!=final_amt)
                {
                    // alert('jjjjjjjjj');
                    $('#payment_type_advance').prop("checked", true);
                }else if(response.length === 0 && current_val===final_amt)
                {
                    // alert('bbbbbbbbb');
                    $('#payment_type_full').prop("checked", true);
                }else if(response.length != 0)
                {
                    // alert('fffffffffffff');
                    $('#payment_type_part').prop("checked", true);
                }
 
                //   $('#pack_date_id').find('option').not(':first').remove();
                //   $.each(response,function(index,data){      
                //      $('#pack_date_id').append('<option value="'+data['id']+'">'+data['journey_date']+'</option>');
                //   });
                }
            });
           
        var val = +this.value || 0;
        $("#pending_amt").val($("#final_amt").val() - val);
        
        if(current_val > 0)
        {
            $("#select_transaction").attr("disabled", false);
        }else{
            $("#select_transaction").attr("disabled", true);
        }
        });
    });    
 
 
    $("#next_booking_amt").on("keyup", function() {
 
            var enquiry_id=$("#enquiry_id").val();
            var final_amt=$("#final_amt").val();
            var current_val=$(this).val();

            var deposite_amt= $(this).val();
        var sra_remain_amt=$("#sra_final_remaining_amt").val();
        var sra_final_amt=$("#sra_final_amt").val();
        var sra_paid_amt=$("#sra_paid_amt").val();
        var receipt_type = $("input[name='receipt_type']:checked").val();

            if(receipt_type != 'SRA'){
            $.ajax({
                url:'<?=base_url()?>agent/pay_pending_amount/get_payment_type',
                method: 'post',
                data: {enquiry_id: enquiry_id},
                dataType: 'json',
                success: function(response){
                console.log(response);
                if(response.length === 0 && current_val!=final_amt)
                {
                    $('#payment_type_advance').prop("checked", true);
                }else if(response.length === 0 && current_val==final_amt)
                {
                    $('#payment_type_full').prop("checked", true);
                }else if(response.length != 0)
                {
                    $('#payment_type_part').prop("checked", true);
                }
 
                }
            });

        }else{
            if(deposite_amt != sra_remain_amt && sra_paid_amt==0)
                {
                    $('#payment_type_advance').prop("checked", true);
                }else if(deposite_amt == sra_remain_amt)
                {
                    $('#payment_type_full').prop("checked", true);
                }else if(deposite_amt != sra_remain_amt && sra_paid_amt >0)
                {
                    $('#payment_type_part').prop("checked", true);
                }
        }
          
    var val = +this.value || 0;
    var finalAmt = +$("#old_pending_amt").val() || 0;
    var pendingAmt = finalAmt - val;
    console.log(pendingAmt);
    $("#pending_amt").val(pendingAmt);

    if(current_val > 0)
    {
        $("#select_transaction").attr("disabled", false);
    }else{
        $("#select_transaction").attr("disabled", true);
    }
});
</script>

<script>
$(document).ready(function() {
    $('#final_booking_preview').validate({ // initialize the plugin
        
        errorPlacement: function($error, $element) {
            $error.appendTo($element.closest("tr,td,div"));
        },
        rules: {
            upi_no: {
                required: function(element) {
                    
                    if($('#select_transaction').val() == 'UPI')
                     {
                        return true;
                    } else {
                        return false;
                    }
                }
            },
            cheque: {
                required: function(element) {
                    
                    if($('#select_transaction').val() == 'Cheque')
                     {
                        return true;
                    } else {
                        return false;
                    }
                }
            },
            net_banking: {
                required: function(element) {
                    
                    if($('#select_transaction').val() == 'Net Banking')
                     {
                        return true;
                    } else {
                        return false;
                    }
                }
            },
            booking_amt: {
                required: true,
            },
            payment_now_later: {
                required: true,
            },
            booking_tm_mobile_no:{
                required: true,
                validMobile: true
            },
            extra_services:{
                required: true,
            },
            total_cash_amt: {
                required: function(element) {
                    
                    if($('#select_transaction').val() == 'CASH')
                     {
                        return true;
                    } else {
                        return false;
                    }
                }
            },
            select_upi_no: {
                required: function(element) {
                    
                    if($('#select_transaction').val() == 'UPI')
                     {
                        return true;
                    } else {
                        return false;
                    }
                }
            },

        },

        messages: {
            upi_no: {
                required: "Please enter transaction number",
            },
            cheque: {
                required: "Please enter cheque number",
            },
            net_banking: {
                required: "Please enter transaction number",
            },
            booking_amt: {
                required: "Please booking amount",
            },
            payment_now_later: {
                required: "Please select Payment",
            },
            extra_services:{
                required: "Please select yes or no",
            },
            booking_tm_mobile_no: {
                required: "Please enter mobile number",
                validMobile: "Please enter a valid mobile number starting with 6, 7, 8, or 9",
            },
            total_cash_amt: {
                required: "Please enter cash",
            },
            select_upi_no: {
                required: "Please Holder Name",
            }


        }
    });

    jQuery.validator.addMethod("validMobile", function(value, element) {
        var pattern = /^[6-9]\d{9}$/; // Starts with 6, 7, 8, or 9 followed by 9 digits
        return this.optional(element) || pattern.test(value);
    }, "Please enter a valid mobile number starting with 6, 7, 8, or 9.");

    $('#submit_back_preview').on('click', function(event) {
        // Trigger the form validation for #final_booking_preview
        var isValid = $('#final_booking_preview').valid();

        // Check if the form is valid
        if (!isValid) {
            // If the form is not valid, prevent the default button action
            event.preventDefault();
        }
    });

});
</script>

<script>

$(document).ready(function() {

    var booking_preview = $('#netbanking_date').val();
    var booking_preview1 = $('#reason').val();
    // alert(booking_preview1);
    var booking_preview2 = $('#qr_upi_no').val();
    var booking_preview3 = $('#drawn_on_date').val();
    var booking_preview4 = $('#return_total_cash_amt').val();

    if(booking_preview!= ''){
        $("#submit_otp").attr("disabled", false);
    } else if(booking_preview1!= ''){
        $("#submit_otp").attr("disabled", false);
    }else if(booking_preview2!= ''){
        $("#submit_otp").attr("disabled", false);
    }else if(booking_preview3!= ''){
        $("#submit_otp").attr("disabled", false);
    }else if(booking_preview4!= ''){
        $("#submit_otp").attr("disabled", false);
    }
});

</script>

<script>
$("#payment_final_booking_submit").click(function() {

    // alert('hiiiiiiiii'); 

    var verify_otp = $('#otp').val(); 
    var mobile_no = $('#booking_tm_mobile_no').val(); 
    var enquiry_id = $('#enquiry_id').val(); 
    // alert(enquiry_id);
    var journey_date  = $("#journey_date").val();
    var traveller_id  = $("#traveller_id").val();
    var enquiry_id    = $("#enquiry_id").val();
    var hotel_name_id    = $("#hotel_name_id").val();
    var package_date_id    = $("#package_date_id").val();
    var package_id    = $("#package_id").val();

    var final_amt = $('#final_amt').val();

    var payment_type = $("input[name='payment_type']:checked").val();
    var selectedId = "";
    if (payment_type === undefined) {
        // No radio button is checked, insert a default value
        payment_type = ""; // You can change this to your desired default value
    } else {
        // Loop through radio buttons to find the one with the selected value
        $("input[name='payment_type']").each(function() {
            if ($(this).val() === payment_type) {
                selectedId = $(this).attr("id");
                return false; // Exit the loop once a match is found
            }
        });
    }

    var booking_amt = $('#booking_amt').val(); 
    var pending_amt = $('#pending_amt').val();
    // alert(pending_amt);
    // var payment_now_later = $('#payment_now_later').val();
    var payment_now_later = $("input[name='payment_now_later']:checked").val();
    // alert(payment_now_later);

    var upi_no = $('#upi_no').val();
    var cheque = $('#cheque').val();
    var bank_name = $('#bank_name').val();
    var drawn_on_date = $('#drawn_on_date').val();
    var name_on_cheque = $('#name_on_cheque').val();
    var cheque_bank_name = $('#cheque_bank_name').val();
    var cheque_reason_1 = $('#cheque_reason_1').val();


    // var netbanking_payment_type = $('#netbanking_payment_type').val();
    var netbanking_payment_type = $("input[name='netbanking_payment_type']:checked").val();
    var selectedId = "";
    if (netbanking_payment_type === undefined) {
        // No radio button is checked, insert a default value
        netbanking_payment_type = ""; // You can change this to your desired default value
    } else {
        // Loop through radio buttons to find the one with the selected value
        $("input[name='netbanking_payment_type']").each(function() {
            if ($(this).val() === netbanking_payment_type) {
                selectedId = $(this).attr("id");
                return false; // Exit the loop once a match is found
            }
        });
    }


    // alert(netbanking_payment_type);
    var net_banking_utr_no = $('#net_banking_utr_no').val();
    var net_banking_acc_no = $('#net_banking_acc_no').val();
    var net_acc_holder_nm = $('#net_acc_holder_nm').val();
    var net_banking_branch_name = $('#net_banking_branch_name').val();
    var netbanking_bank_name = $('#netbanking_bank_name').val();
    var netbanking_date = $('#netbanking_date').val();
    var net_banking_reason_1 = $('#net_banking_reason_1').val();

    var upi_holder_name = $('#select_upi_no').val();
    var upi_payment_type = $('#upi_payment_type').val();
    // alert(upi_payment_type);
    var upi_self_no = $('#self_upi_no').val();
    var upi_reason = $('#reason').val();
    var upi_transaction_date = $('#upi_transaction_date').val();


    var qr_holder_name = $('#select_qr_upi_no').val();
    var qr_mobile_number = $('#qr_mobile_number').val();
    var qr_payment_type = $('#qr_payment_type').val();
    var qr_upi_no = $('#qr_upi_no').val();
    var qr_transaction_date = $('#qr_transaction_date').val();
    var qr_reason_1 = $('#qr_reason_1').val();


    var select_transaction =($('#select_transaction :selected').val());
    // alert(select_transaction);
    // var cash_2000 = $('#cash_2000').val();
    // var total_cash_2000 = $('#total_cash_2000').val();
    var cash_500 = $('#cash_500').val();
    var total_cash_500 = $('#total_cash_500').val();
    // alert(total_cash_500);
    var cash_200 = $('#cash_200').val();
    var total_cash_200 = $('#total_cash_200').val();
    var cash_100 = $('#cash_100').val();
    var total_cash_100 = $('#total_cash_100').val();
    var cash_50 = $('#cash_50').val();
    var total_cash_50 = $('#total_cash_50').val();
    var cash_20 = $('#cash_20').val();
    var total_cash_20 = $('#total_cash_20').val();
    var cash_10 = $('#cash_10').val();
    var total_cash_10 = $('#total_cash_10').val();

    var cash_5 = $('#cash_5').val();
    var total_cash_5 = $('#total_cash_5').val();
    // alert(total_cash_5);
    var cash_2 = $('#cash_2').val();
    var total_cash_2 = $('#total_cash_2').val();
    var cash_1 = $('#cash_1').val();
    var total_cash_1 = $('#total_cash_1').val();

    var total_cash_amt = $('#total_cash_amt').val();

    var return_cash_500 = $('#return_cash_500').val();
    var return_total_cash_500 = $('#return_total_cash_500').val();
    // alert(return_total_cash_500);
    var return_cash_200 = $('#return_cash_200').val();
    var return_total_cash_200 = $('#return_total_cash_200').val();
    var return_cash_100 = $('#return_cash_100').val();
    var return_total_cash_100 = $('#return_total_cash_100').val();
    var return_cash_50 = $('#return_cash_50').val();
    var return_total_cash_50 = $('#return_total_cash_50').val();
    var return_cash_20 = $('#return_cash_20').val();
    var return_total_cash_20 = $('#return_total_cash_20').val();
    var return_cash_10 = $('#return_cash_10').val();
    var return_total_cash_10 = $('#return_total_cash_10').val();
    var return_cash_5 = $('#return_cash_5').val();
    var return_total_cash_5 = $('#return_total_cash_5').val();
    var return_cash_2 = $('#return_cash_2').val();
    var return_total_cash_2 = $('#return_total_cash_2').val();
    var return_cash_1 = $('#return_cash_1').val();
    var return_total_cash_1 = $('#return_total_cash_1').val();

    var return_total_cash_amt = $('#return_total_cash_amt').val();

    var booking_payment_details_id = $('#booking_payment_details_id').val();
    var return_customer_booking_payment_id = $('#return_customer_booking_payment_id').val();


    
    
    // alert(package_id);

    if (verify_otp != '') {
        $.ajax({
            type: "POST",
            url: '<?= base_url() ?>agent/booking_payment_details/verify_otp',
            data: {
                verify_otp: verify_otp,
                mobile_no: mobile_no,
                enquiry_id: enquiry_id,
                journey_date: journey_date,
                traveller_id: traveller_id,
                hotel_name_id: hotel_name_id,
                package_date_id: package_date_id,
                package_id: package_id,

                booking_payment_details_id: booking_payment_details_id,
                return_customer_booking_payment_id: return_customer_booking_payment_id,
                booking_amt: booking_amt,
                final_amt: final_amt,
                payment_type: payment_type,
                pending_amt: pending_amt,
                payment_now_later: payment_now_later,
                upi_no: upi_no,
                cheque: cheque,
                bank_name: bank_name,
                drawn_on_date: drawn_on_date,
                name_on_cheque: name_on_cheque,
                cheque_bank_name: cheque_bank_name,
                cheque_reason_1: cheque_reason_1,
                netbanking_payment_type: netbanking_payment_type,
                net_banking_acc_no: net_banking_acc_no,
                net_acc_holder_nm: net_acc_holder_nm,
                net_banking_branch_name: net_banking_branch_name,
                net_banking_utr_no: net_banking_utr_no,
                netbanking_bank_name: netbanking_bank_name,
                netbanking_date: netbanking_date,
                net_banking_reason_1: net_banking_reason_1,
                
                upi_holder_name: upi_holder_name,
                upi_payment_type: upi_payment_type,
                upi_self_no: upi_self_no,
                upi_reason: upi_reason,
                upi_transaction_date: upi_transaction_date,
                
                qr_holder_name: qr_holder_name,
                qr_mobile_number: qr_mobile_number,
                qr_payment_type: qr_payment_type,
                qr_upi_no: qr_upi_no,
                qr_transaction_date: qr_transaction_date,
                qr_reason_1: qr_reason_1,
                
                select_transaction: select_transaction,
                cash_500: cash_500,
                total_cash_500: total_cash_500,
                cash_200: cash_200,
                total_cash_200: total_cash_200,
                cash_100: cash_100,
                total_cash_100: total_cash_100,
                cash_50: cash_50,
                total_cash_50: total_cash_50,
                cash_20: cash_20,
                total_cash_20: total_cash_20,
                cash_10: cash_10,
                total_cash_10: total_cash_10,
                cash_5: cash_5,
                total_cash_5: total_cash_5,
                cash_2: cash_2,
                total_cash_2: total_cash_2,
                cash_1: cash_1,
                total_cash_1: total_cash_1,
                total_cash_amt: total_cash_amt,

                return_cash_500: return_cash_500,
                return_total_cash_500: return_total_cash_500,
                return_cash_200: return_cash_200,
                return_total_cash_200: return_total_cash_200,
                return_cash_100: return_cash_100,
                return_total_cash_100: return_total_cash_100,
                return_cash_50: return_cash_50,
                return_total_cash_50: return_total_cash_50,
                return_cash_20: return_cash_20,
                return_total_cash_20: return_total_cash_20,
                return_cash_10: return_cash_10,
                return_total_cash_10: return_total_cash_10,
                return_cash_5: return_cash_5,
                return_total_cash_5: return_total_cash_5,
                return_cash_2: return_cash_2,
                return_total_cash_2: return_total_cash_2,
                return_cash_1: return_cash_1,
                return_total_cash_1: return_total_cash_1,
                return_total_cash_amt: return_total_cash_amt,
            },
            //  dataType: 'json',
            //  cache: false,
            success: function(response) {
                    if (response == true) {
                    Swal.fire({
                        title: 'Success',
                        text: 'Verify OTP Successfully',
                        icon: 'success',
                        confirmButtonText: 'OK'
                    }).then((result) => {
                        if (result.isConfirmed) {
                            $("#submit_otp").prop('disabled', true);
                            window.location.href = "<?= base_url() ?>agent/payment_receipt/index/"+enquiry_id;
                        }
                    });
                } else {
                    Swal.fire({
                        title: 'Error',
                        text: 'You Entered Wrong OTP. Please check it and submit the correct OTP',
                        icon: 'error',
                        confirmButtonText: 'OK'
                    });
                }
            },

        });
    }
    
});
</script>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
$("#pending_amt_payment_final_booking_submit").click(function() {

    // alert('hiiiiiiiii'); 

    var verify_otp = $('#otp').val(); 
    var mobile_no = $('#booking_tm_mobile_no').val(); 
    var enquiry_id = $('#enquiry_id').val(); 
    // alert(enquiry_id);
    var journey_date  = $("#journey_date").val();
    var traveller_id  = $("#traveller_id").val();
    var enquiry_id    = $("#enquiry_id").val();
    var hotel_name_id    = $("#hotel_name_id").val();
    var package_date_id    = $("#package_date_id").val();
    var package_id    = $("#package_id").val();

    var final_amt = $('#final_amt').val();

    var payment_type = $("input[name='payment_type']:checked").val();
    // alert(payment_type);s
    var selectedId = "";
    if (payment_type === undefined) {
        // No radio button is checked, insert a default value
        payment_type = ""; // You can change this to your desired default value
    } else {
        // Loop through radio buttons to find the one with the selected value
        $("input[name='payment_type']").each(function() {
            if ($(this).val() === payment_type) {
                selectedId = $(this).attr("id");
                return false; // Exit the loop once a match is found
            }
        });
    }

    var booking_amt = $('#next_booking_amt').val(); 
    var pending_amt = $('#result_box').val();
    // var payment_now_later = $('#payment_now_later').val();
    var payment_now_later = $("input[name='payment_now_later']:checked").val();


    var upi_no = $('#upi_no').val();
    var cheque = $('#cheque').val();
    var bank_name = $('#bank_name').val();
    var drawn_on_date = $('#drawn_on_date').val();
    var name_on_cheque = $('#name_on_cheque').val();
    var cheque_bank_name = $('#cheque_bank_name').val();
    var cheque_reason_1 = $('#cheque_reason_1').val();


    // var netbanking_payment_type = $('#netbanking_payment_type').val();
    var netbanking_payment_type = $("input[name='netbanking_payment_type']:checked").val();
    var selectedId = "";
    if (netbanking_payment_type === undefined) {
        // No radio button is checked, insert a default value
        netbanking_payment_type = ""; // You can change this to your desired default value
    } else {
        // Loop through radio buttons to find the one with the selected value
        $("input[name='netbanking_payment_type']").each(function() {
            if ($(this).val() === netbanking_payment_type) {
                selectedId = $(this).attr("id");
                return false; // Exit the loop once a match is found
            }
        });
    }


    // alert(netbanking_payment_type);
    var net_banking_utr_no = $('#net_banking_utr_no').val();
    var net_banking_acc_no = $('#net_banking_acc_no').val();
    var net_acc_holder_nm = $('#net_acc_holder_nm').val();
    var net_banking_branch_name = $('#net_banking_branch_name').val();
    var netbanking_bank_name = $('#netbanking_bank_name').val();
    var netbanking_date = $('#netbanking_date').val();
    var net_banking_reason_1 = $('#net_banking_reason_1').val();

    var upi_holder_name = $('#select_upi_no').val();
    var upi_payment_type = $('#upi_payment_type').val();
    // alert(upi_payment_type);
    var upi_self_no = $('#self_upi_no').val();
    var upi_reason = $('#reason').val();
    var upi_transaction_date = $('#upi_transaction_date').val();


    var qr_holder_name = $('#select_qr_upi_no').val();
    var qr_mobile_number = $('#qr_mobile_number').val();
    var qr_payment_type = $('#qr_payment_type').val();
    var qr_upi_no = $('#qr_upi_no').val();
    var qr_transaction_date = $('#qr_transaction_date').val();
    var qr_reason_1 = $('#qr_reason_1').val();


    var select_transaction =($('#select_transaction :selected').val());
    // alert(select_transaction);
    // var cash_2000 = $('#cash_2000').val();
    // var total_cash_2000 = $('#total_cash_2000').val();
    var cash_500 = $('#cash_500').val();
    var total_cash_500 = $('#total_cash_500').val();
    // alert(total_cash_500);
    var cash_200 = $('#cash_200').val();
    var total_cash_200 = $('#total_cash_200').val();
    var cash_100 = $('#cash_100').val();
    var total_cash_100 = $('#total_cash_100').val();
    var cash_50 = $('#cash_50').val();
    var total_cash_50 = $('#total_cash_50').val();
    var cash_20 = $('#cash_20').val();
    var total_cash_20 = $('#total_cash_20').val();
    var cash_10 = $('#cash_10').val();
    var total_cash_10 = $('#total_cash_10').val();

    var cash_5 = $('#cash_5').val();
    var total_cash_5 = $('#total_cash_5').val();
    // alert(total_cash_5);
    var cash_2 = $('#cash_2').val();
    var total_cash_2 = $('#total_cash_2').val();
    var cash_1 = $('#cash_1').val();
    var total_cash_1 = $('#total_cash_1').val();

    var total_cash_amt = $('#total_cash_amt').val();

    var return_cash_500 = $('#return_cash_500').val();
    var return_total_cash_500 = $('#return_total_cash_500').val();
    // alert(return_total_cash_500);
    var return_cash_200 = $('#return_cash_200').val();
    var return_total_cash_200 = $('#return_total_cash_200').val();
    var return_cash_100 = $('#return_cash_100').val();
    var return_total_cash_100 = $('#return_total_cash_100').val();
    var return_cash_50 = $('#return_cash_50').val();
    var return_total_cash_50 = $('#return_total_cash_50').val();
    var return_cash_20 = $('#return_cash_20').val();
    var return_total_cash_20 = $('#return_total_cash_20').val();
    var return_cash_10 = $('#return_cash_10').val();
    var return_total_cash_10 = $('#return_total_cash_10').val();
    var return_cash_5 = $('#return_cash_5').val();
    var return_total_cash_5 = $('#return_total_cash_5').val();
    var return_cash_2 = $('#return_cash_2').val();
    var return_total_cash_2 = $('#return_total_cash_2').val();
    var return_cash_1 = $('#return_cash_1').val();
    var return_total_cash_1 = $('#return_total_cash_1').val();

    var return_total_cash_amt = $('#return_total_cash_amt').val();

    var booking_payment_details_id = $('#booking_payment_details_id').val();
    var return_customer_booking_payment_id = $('#return_customer_booking_payment_id').val();
    var inserted_id = $('#inserted_id').val();
    
    // alert(inserted_id);

    if (verify_otp != '') {
        $.ajax({
            type: "POST",
            url: '<?= base_url() ?>agent/pending_amount/verify_otp',
            data: {
                verify_otp: verify_otp,
                mobile_no: mobile_no,
                enquiry_id: enquiry_id,
                journey_date: journey_date,
                traveller_id: traveller_id,
                hotel_name_id: hotel_name_id,
                package_date_id: package_date_id,
                package_id: package_id,
                inserted_id:inserted_id,
                booking_payment_details_id: booking_payment_details_id,
                return_customer_booking_payment_id: return_customer_booking_payment_id,
                booking_amt: booking_amt,
                final_amt: final_amt,
                payment_type: payment_type,
                pending_amt: pending_amt,
                payment_now_later: payment_now_later,
                upi_no: upi_no,
                cheque: cheque,
                bank_name: bank_name,
                drawn_on_date: drawn_on_date,
                name_on_cheque : name_on_cheque,
                cheque_bank_name: cheque_bank_name,
                cheque_reason_1: cheque_reason_1,
                
                netbanking_payment_type: netbanking_payment_type,
                net_banking_acc_no: net_banking_acc_no,
                net_acc_holder_nm: net_acc_holder_nm,
                net_banking_branch_name: net_banking_branch_name,
                net_banking_utr_no: net_banking_utr_no,
                netbanking_bank_name: netbanking_bank_name,
                netbanking_date: netbanking_date,
                net_banking_reason_1: net_banking_reason_1,
                
                upi_holder_name: upi_holder_name,
                upi_payment_type: upi_payment_type,
                upi_self_no: upi_self_no,
                upi_reason: upi_reason,
                upi_transaction_date: upi_transaction_date,
                
                qr_holder_name: qr_holder_name,
                qr_mobile_number: qr_mobile_number,
                qr_payment_type: qr_payment_type,
                qr_upi_no: qr_upi_no,
                qr_transaction_date: qr_transaction_date,
                qr_reason_1: qr_reason_1,
                
                select_transaction: select_transaction,
                cash_500: cash_500,
                total_cash_500: total_cash_500,
                cash_200: cash_200,
                total_cash_200: total_cash_200,
                cash_100: cash_100,
                total_cash_100: total_cash_100,
                cash_50: cash_50,
                total_cash_50: total_cash_50,
                cash_20: cash_20,
                total_cash_20: total_cash_20,
                cash_10: cash_10,
                total_cash_10: total_cash_10,
                cash_5: cash_5,
                total_cash_5: total_cash_5,
                cash_2: cash_2,
                total_cash_2: total_cash_2,
                cash_1: cash_1,
                total_cash_1: total_cash_1,
                total_cash_amt: total_cash_amt,

                return_cash_500: return_cash_500,
                return_total_cash_500: return_total_cash_500,
                return_cash_200: return_cash_200,
                return_total_cash_200: return_total_cash_200,
                return_cash_100: return_cash_100,
                return_total_cash_100: return_total_cash_100,
                return_cash_50: return_cash_50,
                return_total_cash_50: return_total_cash_50,
                return_cash_20: return_cash_20,
                return_total_cash_20: return_total_cash_20,
                return_cash_10: return_cash_10,
                return_total_cash_10: return_total_cash_10,
                return_cash_5: return_cash_5,
                return_total_cash_5: return_total_cash_5,
                return_cash_2: return_cash_2,
                return_total_cash_2: return_total_cash_2,
                return_cash_1: return_cash_1,
                return_total_cash_1: return_total_cash_1,
                return_total_cash_amt: return_total_cash_amt,
            },
            //  dataType: 'json',
            //  cache: false,
            success: function(response) {
                    if (response == true) {
                    Swal.fire({
                        title: 'Success',
                        text: 'Verify OTP Successfully',
                        icon: 'success',
                        confirmButtonText: 'OK'
                    }).then((result) => {
                        if (result.isConfirmed) {
                            $("#submit_otp").prop('disabled', true);
                            window.location.href = "<?=base_url() ?>agent/payment_receipt/index_final/"+enquiry_id+ "/" +inserted_id;
                        }
                    });
                } else {
                    Swal.fire({
                        title: 'Error',
                        text: 'You Entered Wrong OTP. Please check it and submit the correct OTP',
                        icon: 'error',
                        confirmButtonText: 'OK'
                    });
                }
            },

        });
    }
    
});
</script>

<script>
$("#pay_pending_amt_payment_final_booking_submit").click(function() {

    // alert('hiiiiiiiii'); 

    var verify_otp = $('#otp').val(); 
    var mobile_no = $('#booking_tm_mobile_no').val(); 
    var enquiry_id = $('#enquiry_id').val(); 
    // alert(enquiry_id);
    var journey_date  = $("#journey_date").val();
    var traveller_id  = $("#traveller_id").val();
    var enquiry_id    = $("#enquiry_id").val();
    var hotel_name_id    = $("#hotel_name_id").val();
    var package_date_id    = $("#package_date_id").val();
    var package_id    = $("#package_id").val();

    var final_amt = $('#final_amt').val();

    var payment_type = $("input[name='payment_type']:checked").val();
    var selectedId = "";
    if (payment_type === undefined) {
        // No radio button is checked, insert a default value
        payment_type = ""; // You can change this to your desired default value
    } else {
        // Loop through radio buttons to find the one with the selected value
        $("input[name='payment_type']").each(function() {
            if ($(this).val() === payment_type) {
                selectedId = $(this).attr("id");
                return false; // Exit the loop once a match is found
            }
        });
    }

    var booking_amt = $('#booking_amt').val(); 
    var pending_amt = $('#pending_amt').val();
    // var payment_now_later = $('#payment_now_later').val();
    var payment_now_later = $("input[name='payment_now_later']:checked").val();


    var upi_no = $('#upi_no').val();
    var cheque = $('#cheque').val();
    var bank_name = $('#bank_name').val();
    var drawn_on_date = $('#drawn_on_date').val();
    var name_on_cheque = $('#name_on_cheque').val();
    var cheque_bank_name = $('#cheque_bank_name').val();
    var cheque_reason_1 = $('#cheque_reason_1').val();


    // var netbanking_payment_type = $('#netbanking_payment_type').val();
    var netbanking_payment_type = $("input[name='netbanking_payment_type']:checked").val();
    var selectedId = "";
    if (netbanking_payment_type === undefined) {
        // No radio button is checked, insert a default value
        netbanking_payment_type = ""; // You can change this to your desired default value
    } else {
        // Loop through radio buttons to find the one with the selected value
        $("input[name='netbanking_payment_type']").each(function() {
            if ($(this).val() === netbanking_payment_type) {
                selectedId = $(this).attr("id");
                return false; // Exit the loop once a match is found
            }
        });
    }


    // alert(netbanking_payment_type);
    var net_banking_utr_no = $('#net_banking_utr_no').val();
    var net_banking_acc_no = $('#net_banking_acc_no').val();
    var net_acc_holder_nm = $('#net_acc_holder_nm').val();
    var net_banking_branch_name = $('#net_banking_branch_name').val();
    var netbanking_bank_name = $('#netbanking_bank_name').val();
    var netbanking_date = $('#netbanking_date').val();
    var net_banking_reason_1 = $('#net_banking_reason_1').val();

    var upi_holder_name = $('#select_upi_no').val();
    var upi_payment_type = $('#upi_payment_type').val();
    // alert(upi_payment_type);
    var upi_self_no = $('#self_upi_no').val();
    var upi_reason = $('#reason').val();
    var upi_transaction_date = $('#upi_transaction_date').val();


    var qr_holder_name = $('#select_qr_upi_no').val();
    var qr_mobile_number = $('#qr_mobile_number').val();
    var qr_payment_type = $('#qr_payment_type').val();
    var qr_upi_no = $('#qr_upi_no').val();
    var qr_transaction_date = $('#qr_transaction_date').val();
    var qr_reason_1 = $('#qr_reason_1').val();


    var select_transaction =($('#select_transaction :selected').val());
    // alert(select_transaction);
    // var cash_2000 = $('#cash_2000').val();
    // var total_cash_2000 = $('#total_cash_2000').val();
    var cash_500 = $('#cash_500').val();
    var total_cash_500 = $('#total_cash_500').val();
    // alert(total_cash_500);
    var cash_200 = $('#cash_200').val();
    var total_cash_200 = $('#total_cash_200').val();
    var cash_100 = $('#cash_100').val();
    var total_cash_100 = $('#total_cash_100').val();
    var cash_50 = $('#cash_50').val();
    var total_cash_50 = $('#total_cash_50').val();
    var cash_20 = $('#cash_20').val();
    var total_cash_20 = $('#total_cash_20').val();
    var cash_10 = $('#cash_10').val();
    var total_cash_10 = $('#total_cash_10').val();

    var cash_5 = $('#cash_5').val();
    var total_cash_5 = $('#total_cash_5').val();
    // alert(total_cash_5);
    var cash_2 = $('#cash_2').val();
    var total_cash_2 = $('#total_cash_2').val();
    var cash_1 = $('#cash_1').val();
    var total_cash_1 = $('#total_cash_1').val();

    var total_cash_amt = $('#total_cash_amt').val();

    var return_cash_500 = $('#return_cash_500').val();
    var return_total_cash_500 = $('#return_total_cash_500').val();
    // alert(return_total_cash_500);
    var return_cash_200 = $('#return_cash_200').val();
    var return_total_cash_200 = $('#return_total_cash_200').val();
    var return_cash_100 = $('#return_cash_100').val();
    var return_total_cash_100 = $('#return_total_cash_100').val();
    var return_cash_50 = $('#return_cash_50').val();
    var return_total_cash_50 = $('#return_total_cash_50').val();
    var return_cash_20 = $('#return_cash_20').val();
    var return_total_cash_20 = $('#return_total_cash_20').val();
    var return_cash_10 = $('#return_cash_10').val();
    var return_total_cash_10 = $('#return_total_cash_10').val();
    var return_cash_5 = $('#return_cash_5').val();
    var return_total_cash_5 = $('#return_total_cash_5').val();
    var return_cash_2 = $('#return_cash_2').val();
    var return_total_cash_2 = $('#return_total_cash_2').val();
    var return_cash_1 = $('#return_cash_1').val();
    var return_total_cash_1 = $('#return_total_cash_1').val();

    var return_total_cash_amt = $('#return_total_cash_amt').val();

    var booking_payment_details_id = $('#booking_payment_details_id').val();
    var return_customer_booking_payment_id = $('#return_customer_booking_payment_id').val();
    var inserted_id = $('#inserted_id').val();
    var booking_payment_details_id_for_later = $('#booking_payment_details_id').val();
    // alert(package_id);

    if (verify_otp != '') {
        $.ajax({
            type: "POST",
            url: '<?= base_url() ?>agent/pay_pending_amount/verify_otp',
            data: {
                verify_otp: verify_otp,
                mobile_no: mobile_no,
                enquiry_id: enquiry_id,
                journey_date: journey_date,
                traveller_id: traveller_id,
                hotel_name_id: hotel_name_id,
                package_date_id: package_date_id,
                package_id: package_id,
                inserted_id:inserted_id,
                booking_payment_details_id_for_later:booking_payment_details_id_for_later,
                booking_payment_details_id: booking_payment_details_id,
                return_customer_booking_payment_id: return_customer_booking_payment_id,
                booking_amt: booking_amt,
                final_amt: final_amt,
                payment_type: payment_type,
                pending_amt: pending_amt,
                payment_now_later: payment_now_later,
                upi_no: upi_no,
                cheque: cheque,
                bank_name: bank_name,
                name_on_cheque: name_on_cheque,
                cheque_bank_name: cheque_bank_name,
                cheque_reason_1: cheque_reason_1,
                drawn_on_date: drawn_on_date,

                netbanking_payment_type: netbanking_payment_type,
                net_banking_acc_no: net_banking_acc_no,
                net_acc_holder_nm: net_acc_holder_nm,
                net_banking_branch_name: net_banking_branch_name,
                net_banking_utr_no: net_banking_utr_no,
                netbanking_bank_name: netbanking_bank_name,
                netbanking_date: netbanking_date,
                net_banking_reason_1: net_banking_reason_1,
                
                upi_holder_name: upi_holder_name,
                upi_payment_type: upi_payment_type,
                upi_self_no: upi_self_no,
                upi_reason: upi_reason,
                upi_transaction_date: upi_transaction_date,
                
                qr_holder_name: qr_holder_name,
                qr_mobile_number: qr_mobile_number,
                qr_payment_type: qr_payment_type,
                qr_upi_no: qr_upi_no,
                qr_transaction_date: qr_transaction_date,
                qr_reason_1: qr_reason_1,
                
                select_transaction: select_transaction,
                cash_500: cash_500,
                total_cash_500: total_cash_500,
                cash_200: cash_200,
                total_cash_200: total_cash_200,
                cash_100: cash_100,
                total_cash_100: total_cash_100,
                cash_50: cash_50,
                total_cash_50: total_cash_50,
                cash_20: cash_20,
                total_cash_20: total_cash_20,
                cash_10: cash_10,
                total_cash_10: total_cash_10,
                cash_5: cash_5,
                total_cash_5: total_cash_5,
                cash_2: cash_2,
                total_cash_2: total_cash_2,
                cash_1: cash_1,
                total_cash_1: total_cash_1,
                total_cash_amt: total_cash_amt,

                return_cash_500: return_cash_500,
                return_total_cash_500: return_total_cash_500,
                return_cash_200: return_cash_200,
                return_total_cash_200: return_total_cash_200,
                return_cash_100: return_cash_100,
                return_total_cash_100: return_total_cash_100,
                return_cash_50: return_cash_50,
                return_total_cash_50: return_total_cash_50,
                return_cash_20: return_cash_20,
                return_total_cash_20: return_total_cash_20,
                return_cash_10: return_cash_10,
                return_total_cash_10: return_total_cash_10,
                return_cash_5: return_cash_5,
                return_total_cash_5: return_total_cash_5,
                return_cash_2: return_cash_2,
                return_total_cash_2: return_total_cash_2,
                return_cash_1: return_cash_1,
                return_total_cash_1: return_total_cash_1,
                return_total_cash_amt: return_total_cash_amt,
            },
            //  dataType: 'json',
            //  cache: false,
            success: function(response) {
                    if (response == true) {
                    Swal.fire({
                        title: 'Success',
                        text: 'Verify OTP Successfully',
                        icon: 'success',
                        confirmButtonText: 'OK'
                    }).then((result) => {
                        if (result.isConfirmed) {
                            $("#submit_otp").prop('disabled', true);
                            window.location.href = "<?= base_url() ?>agent/payment_receipt/index_pending/"+enquiry_id+ "/" +inserted_id;
                        }
                    });
                } else {
                    Swal.fire({
                        title: 'Error',
                        text: 'You Entered Wrong OTP. Please check it and submit the correct OTP',
                        icon: 'error',
                        confirmButtonText: 'OK'
                    });
                }
            },

        });
    }
    
});
</script>

<script>
$("#sra_payment_final_booking_submit").click(function() {

    // alert('hiiiiiiiii'); 

    var verify_otp = $('#otp').val(); 
    var mobile_no = $('#sra_booking_tm_mobile_no').val(); 
    var sra_no = $('#sra_no').val(); 
    // alert(enquiry_id);
    var journey_date  = $("#journey_date").val();
    var traveller_id  = $("#traveller_id").val();
    var enquiry_id    = $("#enquiry_id").val();
    var hotel_name_id    = $("#hotel_name_id").val();
    var package_date_id    = $("#package_date_id").val();
    var package_id    = $("#package_id").val();

    var final_amt = $('#final_amt').val();

    var payment_type = $("input[name='payment_type']:checked").val();
    var selectedId = "";
    if (payment_type === undefined) {
        // No radio button is checked, insert a default value
        payment_type = ""; // You can change this to your desired default value
    } else {
        // Loop through radio buttons to find the one with the selected value
        $("input[name='payment_type']").each(function() {
            if ($(this).val() === payment_type) {
                selectedId = $(this).attr("id");
                return false; // Exit the loop once a match is found
            }
        });
    }

    var receipt_type = $("input[name='receipt_type']:checked").val();
    var receipt_typeId = "";
    if (receipt_type === undefined) {
        // No radio button is checked, insert a default value
        receipt_type = ""; // You can change this to your desired default value
    } else {
        // Loop through radio buttons to find the one with the selected value
        $("input[name='receipt_type']").each(function() {
            if ($(this).val() === receipt_type) {
                receipt_typeId = $(this).attr("id");
                return false; // Exit the loop once a match is found
            }
        });
    }

    
    var academic_year = $('#academic_year').val();

    var booking_amt = $('#booking_amt').val(); 
    var pending_amt = $('#pending_amt').val();
    // alert(pending_amt);
    // var payment_now_later = $('#payment_now_later').val();
    var payment_now_later = $("input[name='payment_now_later']:checked").val();
    // alert(payment_now_later);

    var upi_no = $('#upi_no').val();
    var cheque = $('#cheque').val();
    var bank_name = $('#bank_name').val();
    var drawn_on_date = $('#drawn_on_date').val();
    var name_on_cheque = $('#name_on_cheque').val();
    var cheque_bank_name = $('#cheque_bank_name').val();
    var cheque_reason_1 = $('#cheque_reason_1').val();

    var demand_draft_name = $('#demand_draft_name').val();
    var demand_draft_bank_name = $('#demand_draft_bank_name').val();
    var demand_draft_number = $('#demand_draft_number').val();
    var demand_draft_date = $('#demand_draft_date').val();
    var demand_draft_reason = $('#demand_draft_reason').val();


    // var netbanking_payment_type = $('#netbanking_payment_type').val();
    var netbanking_payment_type = $("input[name='netbanking_payment_type']:checked").val();
    var selectedId = "";
    if (netbanking_payment_type === undefined) {
        // No radio button is checked, insert a default value
        netbanking_payment_type = ""; // You can change this to your desired default value
    } else {
        // Loop through radio buttons to find the one with the selected value
        $("input[name='netbanking_payment_type']").each(function() {
            if ($(this).val() === netbanking_payment_type) {
                selectedId = $(this).attr("id");
                return false; // Exit the loop once a match is found
            }
        });
    }


    // alert(netbanking_payment_type);
    var net_banking_utr_no = $('#net_banking_utr_no').val();
    var net_banking_acc_no = $('#net_banking_acc_no').val();
    var net_acc_holder_nm = $('#net_acc_holder_nm').val();
    var net_banking_branch_name = $('#net_banking_branch_name').val();
    var netbanking_bank_name = $('#netbanking_bank_name').val();
    var netbanking_date = $('#netbanking_date').val();
    var net_banking_reason_1 = $('#net_banking_reason_1').val();

    var upi_holder_name = $('#select_upi_no').val();
    var upi_payment_type = $('#upi_payment_type').val();
    // alert(upi_payment_type);
    var upi_self_no = $('#self_upi_no').val();
    var upi_reason = $('#reason').val();
    var upi_transaction_date = $('#upi_transaction_date').val();
    var upi_customer_payment_type = $('#upi_customer_payment_type').val();


    var qr_holder_name = $('#select_qr_upi_no').val();
    var qr_mobile_number = $('#qr_mobile_number').val();
    var qr_payment_type = $('#qr_payment_type').val();
    var qr_upi_no = $('#qr_upi_no').val();
    var qr_transaction_date = $('#qr_transaction_date').val();
    var qr_reason_1 = $('#qr_reason_1').val();


    var select_transaction =($('#select_transaction :selected').val());
    // alert(select_transaction);
    // var cash_2000 = $('#cash_2000').val();
    // var total_cash_2000 = $('#total_cash_2000').val();
    var cash_500 = $('#cash_500').val();
    var total_cash_500 = $('#total_cash_500').val();
    // alert(total_cash_500);
    var cash_200 = $('#cash_200').val();
    var total_cash_200 = $('#total_cash_200').val();
    var cash_100 = $('#cash_100').val();
    var total_cash_100 = $('#total_cash_100').val();
    var cash_50 = $('#cash_50').val();
    var total_cash_50 = $('#total_cash_50').val();
    var cash_20 = $('#cash_20').val();
    var total_cash_20 = $('#total_cash_20').val();
    var cash_10 = $('#cash_10').val();
    var total_cash_10 = $('#total_cash_10').val();

    var cash_5 = $('#cash_5').val();
    var total_cash_5 = $('#total_cash_5').val();
    // alert(total_cash_5);
    var cash_2 = $('#cash_2').val();
    var total_cash_2 = $('#total_cash_2').val();
    var cash_1 = $('#cash_1').val();
    var total_cash_1 = $('#total_cash_1').val();

    var total_cash_amt = $('#total_cash_amt').val();

    var return_cash_500 = $('#return_cash_500').val();
    var return_total_cash_500 = $('#return_total_cash_500').val();
    // alert(return_total_cash_500);
    var return_cash_200 = $('#return_cash_200').val();
    var return_total_cash_200 = $('#return_total_cash_200').val();
    var return_cash_100 = $('#return_cash_100').val();
    var return_total_cash_100 = $('#return_total_cash_100').val();
    var return_cash_50 = $('#return_cash_50').val();
    var return_total_cash_50 = $('#return_total_cash_50').val();
    var return_cash_20 = $('#return_cash_20').val();
    var return_total_cash_20 = $('#return_total_cash_20').val();
    var return_cash_10 = $('#return_cash_10').val();
    var return_total_cash_10 = $('#return_total_cash_10').val();
    var return_cash_5 = $('#return_cash_5').val();
    var return_total_cash_5 = $('#return_total_cash_5').val();
    var return_cash_2 = $('#return_cash_2').val();
    var return_total_cash_2 = $('#return_total_cash_2').val();
    var return_cash_1 = $('#return_cash_1').val();
    var return_total_cash_1 = $('#return_total_cash_1').val();

    var return_total_cash_amt = $('#return_total_cash_amt').val();

    var booking_payment_details_id = $('#sra_booking_payment_details_id').val();
    // alert(booking_payment_details_id);
    var return_customer_booking_payment_id = $('#return_customer_booking_payment_id').val();

    // alert(package_id);

    if (verify_otp != '') {
        $.ajax({
            type: "POST",
            url: '<?= base_url() ?>agent/sra_booking_payment_details/verify_otp',
            data: {
                demand_draft_name: demand_draft_name,
                demand_draft_bank_name: demand_draft_bank_name,
                demand_draft_number: demand_draft_number,
                demand_draft_date: demand_draft_date,
                demand_draft_reason: demand_draft_reason,
                verify_otp: verify_otp,
                mobile_no: mobile_no,
                sra_no: sra_no,
                journey_date: journey_date,
                traveller_id: traveller_id,
                hotel_name_id: hotel_name_id,
                package_date_id: package_date_id,
                package_id: package_id,

                booking_payment_details_id: booking_payment_details_id,
                return_customer_booking_payment_id: return_customer_booking_payment_id,
                booking_amt: booking_amt,
                final_amt: final_amt,
                receipt_type: receipt_type,
                payment_type: payment_type,
                pending_amt: pending_amt,
                payment_now_later: payment_now_later,
                upi_no: upi_no,
                cheque: cheque,
                bank_name: bank_name,
                drawn_on_date: drawn_on_date,
                name_on_cheque: name_on_cheque,
                cheque_bank_name: cheque_bank_name,
                cheque_reason_1: cheque_reason_1,
                netbanking_payment_type: netbanking_payment_type,
                net_banking_acc_no: net_banking_acc_no,
                net_acc_holder_nm: net_acc_holder_nm,
                net_banking_branch_name: net_banking_branch_name,
                net_banking_utr_no: net_banking_utr_no,
                netbanking_bank_name: netbanking_bank_name,
                netbanking_date: netbanking_date,
                net_banking_reason_1: net_banking_reason_1,
                
                upi_holder_name: upi_holder_name,
                upi_payment_type: upi_payment_type,
                upi_self_no: upi_self_no,
                upi_reason: upi_reason,
                upi_transaction_date: upi_transaction_date,
                upi_customer_payment_type: upi_customer_payment_type,
                
                qr_holder_name: qr_holder_name,
                qr_mobile_number: qr_mobile_number,
                qr_payment_type: qr_payment_type,
                qr_upi_no: qr_upi_no,
                qr_transaction_date: qr_transaction_date,
                qr_reason_1: qr_reason_1,
                
                select_transaction: select_transaction,
                cash_500: cash_500,
                total_cash_500: total_cash_500,
                cash_200: cash_200,
                total_cash_200: total_cash_200,
                cash_100: cash_100,
                total_cash_100: total_cash_100,
                cash_50: cash_50,
                total_cash_50: total_cash_50,
                cash_20: cash_20,
                total_cash_20: total_cash_20,
                cash_10: cash_10,
                total_cash_10: total_cash_10,
                cash_5: cash_5,
                total_cash_5: total_cash_5,
                cash_2: cash_2,
                total_cash_2: total_cash_2,
                cash_1: cash_1,
                total_cash_1: total_cash_1,
                total_cash_amt: total_cash_amt,

                return_cash_500: return_cash_500,
                return_total_cash_500: return_total_cash_500,
                return_cash_200: return_cash_200,
                return_total_cash_200: return_total_cash_200,
                return_cash_100: return_cash_100,
                return_total_cash_100: return_total_cash_100,
                return_cash_50: return_cash_50,
                return_total_cash_50: return_total_cash_50,
                return_cash_20: return_cash_20,
                return_total_cash_20: return_total_cash_20,
                return_cash_10: return_cash_10,
                return_total_cash_10: return_total_cash_10,
                return_cash_5: return_cash_5,
                return_total_cash_5: return_total_cash_5,
                return_cash_2: return_cash_2,
                return_total_cash_2: return_total_cash_2,
                return_cash_1: return_cash_1,
                return_total_cash_1: return_total_cash_1,
                return_total_cash_amt: return_total_cash_amt,
            },
            //  dataType: 'json',
            //  cache: false,
            success: function(response) {
                    if (response == true) {
                    Swal.fire({
                        title: 'Success',
                        text: 'Verify OTP Successfully',
                        icon: 'success',
                        confirmButtonText: 'OK'
                    }).then((result) => {
                        if (result.isConfirmed) {
                            $("#sra_submit_otp").prop('disabled', true);
                            window.location.href = "<?= base_url() ?>agent/sra_payment_receipt/index/"+sra_no+ "/" +academic_year;
                        }
                    });
                } else {
                    Swal.fire({
                        title: 'Error',
                        text: 'You Entered Wrong OTP. Please check it and submit the correct OTP',
                        icon: 'error',
                        confirmButtonText: 'OK'
                    });
                }
            },

        });
    }
    
});
</script>

<script>
$("#sra_partial_pending_amt_payment_final_booking_submit").click(function() {

    // alert('hiiiiiiiii'); 
    var verify_otp = $('#otp').val(); 
    var academic_year = $('#academic_year').val(); 
    var mobile_no = $('#booking_tm_mobile_no').val(); 
    var sra_no = $('#sra_no').val();
    var journey_date  = $("#journey_date").val();
    var traveller_id  = $("#traveller_id").val();
    var enquiry_id    = $("#enquiry_id").val();
    var hotel_name_id    = $("#hotel_name_id").val();
    var package_date_id    = $("#package_date_id").val();
    var package_id    = $("#package_id").val();

    var final_amt = $('#final_amt').val();

    var payment_type = $("input[name='payment_type']:checked").val();
    // alert(payment_type);s
    var selectedId = "";
    if (payment_type === undefined) {
        // No radio button is checked, insert a default value
        payment_type = ""; // You can change this to your desired default value
    } else {
        // Loop through radio buttons to find the one with the selected value
        $("input[name='payment_type']").each(function() {
            if ($(this).val() === payment_type) {
                selectedId = $(this).attr("id");
                return false; // Exit the loop once a match is found
            }
        });
    }
    
    var receipt_type = $("input[name='receipt_type']:checked").val();
    // alert(receipt_type);
     

    if (receipt_type == 'SRA') {
        var booking_amt = $('#next_booking_amt').val();
    }else if (receipt_type == 'Extra Services') {
        var booking_amt = $('#next_extra_services_amt').val();
    }
    
    if (receipt_type == 'SRA') {
        var pending_amt = $('#result_box').val();
    }else if (receipt_type == 'Extra Services') {
        var pending_amt = $('#extra_service_result_box').val();
    }
    
    // alert("pending_amt: " + pending_amt);
    // var pending_amt = $('#result_box').val();
    
    // if (pending_amt == 0) {
    //     var pending_amt = $('#extra_service_result_box').val();
    // } 
    
    
    // var payment_now_later = $('#payment_now_later').val();
    var payment_now_later = $("input[name='payment_now_later']:checked").val();


    var upi_no = $('#upi_no').val();
    var cheque = $('#cheque').val();
    var bank_name = $('#bank_name').val();
    var drawn_on_date = $('#drawn_on_date').val();
    var name_on_cheque = $('#name_on_cheque').val();
    var cheque_bank_name = $('#cheque_bank_name').val();
    var cheque_reason_1 = $('#cheque_reason_1').val();

    var demand_draft_name = $('#demand_draft_name').val();
    var demand_draft_bank_name = $('#demand_draft_bank_name').val();
    var demand_draft_number = $('#demand_draft_number').val();
    var demand_draft_date = $('#demand_draft_date').val();
    var demand_draft_reason = $('#demand_draft_reason').val();

    // var netbanking_payment_type = $('#netbanking_payment_type').val();
    var netbanking_payment_type = $("input[name='netbanking_payment_type']:checked").val();
    var selectedId = "";
    if (netbanking_payment_type === undefined) {
        // No radio button is checked, insert a default value
        netbanking_payment_type = ""; // You can change this to your desired default value
    } else {
        // Loop through radio buttons to find the one with the selected value
        $("input[name='netbanking_payment_type']").each(function() {
            if ($(this).val() === netbanking_payment_type) {
                selectedId = $(this).attr("id");
                return false; // Exit the loop once a match is found
            }
        });
    }


    // alert(netbanking_payment_type);
    var net_banking_utr_no = $('#net_banking_utr_no').val();
    var net_banking_acc_no = $('#net_banking_acc_no').val();
    var net_acc_holder_nm = $('#net_acc_holder_nm').val();
    var net_banking_branch_name = $('#net_banking_branch_name').val();
    var netbanking_bank_name = $('#netbanking_bank_name').val();
    var netbanking_date = $('#netbanking_date').val();
    var net_banking_reason_1 = $('#net_banking_reason_1').val();

    var upi_holder_name = $('#select_upi_no').val();
    var upi_payment_type = $('#upi_payment_type').val();
    // alert(upi_payment_type);
    var upi_self_no = $('#self_upi_no').val();
    var upi_reason = $('#reason').val();
    var upi_transaction_date = $('#upi_transaction_date').val();
    var upi_customer_payment_type = $('#upi_customer_payment_type').val();


    var qr_holder_name = $('#select_qr_upi_no').val();
    var qr_mobile_number = $('#qr_mobile_number').val();
    var qr_payment_type = $('#qr_payment_type').val();
    var qr_upi_no = $('#qr_upi_no').val();
    var qr_transaction_date = $('#qr_transaction_date').val();
    var qr_reason_1 = $('#qr_reason_1').val();


    var select_transaction =($('#select_transaction :selected').val());
    // alert(select_transaction);
    // var cash_2000 = $('#cash_2000').val();
    // var total_cash_2000 = $('#total_cash_2000').val();
    var cash_500 = $('#cash_500').val();
    var total_cash_500 = $('#total_cash_500').val();
    // alert(total_cash_500);
    var cash_200 = $('#cash_200').val();
    var total_cash_200 = $('#total_cash_200').val();
    var cash_100 = $('#cash_100').val();
    var total_cash_100 = $('#total_cash_100').val();
    var cash_50 = $('#cash_50').val();
    var total_cash_50 = $('#total_cash_50').val();
    var cash_20 = $('#cash_20').val();
    var total_cash_20 = $('#total_cash_20').val();
    var cash_10 = $('#cash_10').val();
    var total_cash_10 = $('#total_cash_10').val();

    var cash_5 = $('#cash_5').val();
    var total_cash_5 = $('#total_cash_5').val();
    // alert(total_cash_5);
    var cash_2 = $('#cash_2').val();
    var total_cash_2 = $('#total_cash_2').val();
    var cash_1 = $('#cash_1').val();
    var total_cash_1 = $('#total_cash_1').val();

    var total_cash_amt = $('#total_cash_amt').val();

    var return_cash_500 = $('#return_cash_500').val();
    var return_total_cash_500 = $('#return_total_cash_500').val();
    // alert(return_total_cash_500);
    var return_cash_200 = $('#return_cash_200').val();
    var return_total_cash_200 = $('#return_total_cash_200').val();
    var return_cash_100 = $('#return_cash_100').val();
    var return_total_cash_100 = $('#return_total_cash_100').val();
    var return_cash_50 = $('#return_cash_50').val();
    var return_total_cash_50 = $('#return_total_cash_50').val();
    var return_cash_20 = $('#return_cash_20').val();
    var return_total_cash_20 = $('#return_total_cash_20').val();
    var return_cash_10 = $('#return_cash_10').val();
    var return_total_cash_10 = $('#return_total_cash_10').val();
    var return_cash_5 = $('#return_cash_5').val();
    var return_total_cash_5 = $('#return_total_cash_5').val();
    var return_cash_2 = $('#return_cash_2').val();
    var return_total_cash_2 = $('#return_total_cash_2').val();
    var return_cash_1 = $('#return_cash_1').val();
    var return_total_cash_1 = $('#return_total_cash_1').val();

    var return_total_cash_amt = $('#return_total_cash_amt').val();

    var booking_payment_details_id = $('#booking_payment_details_id').val();
    var return_customer_booking_payment_id = $('#return_customer_booking_payment_id').val();
    var inserted_id = $('#inserted_id').val();
    var extra_count = $('#extra_count').val();
    // alert(extra_count);
    
    // --------------- extra services ---------------------------- 
    
    // alert(payment_type);
    var receipt_typeId = "";
    if (receipt_type === undefined) {
        // No radio button is checked, insert a default value
        receipt_type = ""; // You can change this to your desired default value
    } else {
        // Loop through radio buttons to find the one with the selected value
        $("input[name='receipt_type']").each(function() {
            if ($(this).val() === receipt_type) {
                receipt_typeId = $(this).attr("id");
                return false; // Exit the loop once a match is found
            }
        });
    }

    var next_extra_services_amt = $('#next_extra_services_amt').val(); 
    var extra_services_pending_amt = $('#extra_service_result_box').val();
    var extra_services_final_amt = $('#extra_services_final_amt').val();
    // var customer_sending_amt = $('#customer_sending_amt').val();
    // alert(customer_sending_amt); 
    
        var customer_sending_amt = $('input[name="customer_sending_amt[]"]').map(function () {
            return this.value; // $(this).val()
        }).get();
        // alert(customer_sending_amt); 

    var extra_services_inserted_id = $('input[name="extra_services_inserted_id[]"]').map(function () {
        return this.value; // $(this).val()
    }).get();

    var sra_extra_servicesId = $('input[name="sra_extra_services_id[]"]').map(function () {
        return this.value; // $(this).val()
    }).get();
    // alert(extra_services_inserted_id); 


    // --------------- extra services ---------------------------- 
    // alert(inserted_id);

    if (verify_otp != '') {
        $.ajax({
            type: "POST",
            url: '<?= base_url() ?>agent/sra_partial_payment_details/verify_otp',
            data: {
                demand_draft_name: demand_draft_name,
                demand_draft_bank_name: demand_draft_bank_name,
                demand_draft_number: demand_draft_number,
                demand_draft_date: demand_draft_date,
                demand_draft_reason: demand_draft_reason,
                extra_services_inserted_id: extra_services_inserted_id,
                verify_otp: verify_otp,
                mobile_no: mobile_no,
                sra_no: sra_no,
                journey_date: journey_date,
                traveller_id: traveller_id,
                hotel_name_id: hotel_name_id,
                package_date_id: package_date_id,
                package_id: package_id,
                inserted_id:inserted_id,
                booking_payment_details_id: booking_payment_details_id,
                return_customer_booking_payment_id: return_customer_booking_payment_id,
                booking_amt: booking_amt,
                final_amt: final_amt,
                payment_type: payment_type,
                pending_amt: pending_amt,
                payment_now_later: payment_now_later,
                upi_no: upi_no,
                cheque: cheque,
                bank_name: bank_name,
                drawn_on_date: drawn_on_date,
                name_on_cheque : name_on_cheque,
                cheque_bank_name: cheque_bank_name,
                cheque_reason_1: cheque_reason_1,
                
                netbanking_payment_type: netbanking_payment_type,
                net_banking_acc_no: net_banking_acc_no,
                net_acc_holder_nm: net_acc_holder_nm,
                net_banking_branch_name: net_banking_branch_name,
                net_banking_utr_no: net_banking_utr_no,
                netbanking_bank_name: netbanking_bank_name,
                netbanking_date: netbanking_date,
                net_banking_reason_1: net_banking_reason_1,
                
                upi_holder_name: upi_holder_name,
                upi_payment_type: upi_payment_type,
                upi_self_no: upi_self_no,
                upi_reason: upi_reason,
                upi_transaction_date: upi_transaction_date,
                upi_customer_payment_type: upi_customer_payment_type,
                
                qr_holder_name: qr_holder_name,
                qr_mobile_number: qr_mobile_number,
                qr_payment_type: qr_payment_type,
                qr_upi_no: qr_upi_no,
                qr_transaction_date: qr_transaction_date,
                qr_reason_1: qr_reason_1,
                
                select_transaction: select_transaction,
                cash_500: cash_500,
                total_cash_500: total_cash_500,
                cash_200: cash_200,
                total_cash_200: total_cash_200,
                cash_100: cash_100,
                total_cash_100: total_cash_100,
                cash_50: cash_50,
                total_cash_50: total_cash_50,
                cash_20: cash_20,
                total_cash_20: total_cash_20,
                cash_10: cash_10,
                total_cash_10: total_cash_10,
                cash_5: cash_5,
                total_cash_5: total_cash_5,
                cash_2: cash_2,
                total_cash_2: total_cash_2,
                cash_1: cash_1,
                total_cash_1: total_cash_1,
                total_cash_amt: total_cash_amt,

                return_cash_500: return_cash_500,
                return_total_cash_500: return_total_cash_500,
                return_cash_200: return_cash_200,
                return_total_cash_200: return_total_cash_200,
                return_cash_100: return_cash_100,
                return_total_cash_100: return_total_cash_100,
                return_cash_50: return_cash_50,
                return_total_cash_50: return_total_cash_50,
                return_cash_20: return_cash_20,
                return_total_cash_20: return_total_cash_20,
                return_cash_10: return_cash_10,
                return_total_cash_10: return_total_cash_10,
                return_cash_5: return_cash_5,
                return_total_cash_5: return_total_cash_5,
                return_cash_2: return_cash_2,
                return_total_cash_2: return_total_cash_2,
                return_cash_1: return_cash_1,
                return_total_cash_1: return_total_cash_1,
                return_total_cash_amt: return_total_cash_amt,

                receipt_type: receipt_type,
                next_extra_services_amt: next_extra_services_amt,
                extra_services_pending_amt: extra_services_pending_amt,
                customer_sending_amt: customer_sending_amt,
                SraExtraServicesId: sra_extra_servicesId,
                academic_year: academic_year,
                extra_services_final_amt: extra_services_final_amt,
            },
            //  dataType: 'json',
            //  cache: false,
            success: function(response) {
                console.log(response);
                    if (response == 1) {
                    Swal.fire({
                        title: 'Success',
                        text: 'Verify OTP Successfully',
                        icon: 'success',
                        confirmButtonText: 'OK'
                    }).then((result) => {
                        if (result.isConfirmed) {
                            $("#submit_otp").prop('disabled', true);
                            if(receipt_type == 'SRA'){
                                // alert('SRA');
                            window.location.href = "<?=base_url() ?>agent/sra_payment_receipt/index_pending/"+sra_no+ "/" +academic_year+ "/"+inserted_id+ "/"+receipt_type;
                            }else if(receipt_type == 'Extra Services'){
                                // alert('Extra Services');
                                var $extra = receipt_type;
                                if ($extra === "Extra Services") {
                                    var changedValue = "Extra_Services"; // Replace "New Value" with whatever you want to change it to
                                    console.log("Changed value:", changedValue);
                                    window.location.href = "<?=base_url() ?>agent/sra_payment_receipt/index_extra_services/"+sra_no+ "/" +academic_year+ "/"+extra_count+ "/"+changedValue;
                                }

                            }
                        }
                    });
                } else {
                    Swal.fire({
                        title: 'Error',
                        text: 'You Entered Wrong OTP. Please check it and submit the correct OTP',
                        icon: 'error',
                        confirmButtonText: 'OK'
                    });
                }
            },

        });
    }
    
});
</script>

<script>
function extra_service_receipt_type(value) {
    const bookingAmountRow = document.getElementById('next_booking_amt');
    const extraServicesAmountRow = document.getElementById('next_extra_services_amt');
    const result_boxAmountRow = document.getElementById('result_box');
    const extra_service_result_boxAmountRow = document.getElementById('extra_service_result_box');
    const extra_service_payment_type_tr = document.getElementById('payment_type_tr');

    if (value === 'SRA') {
        bookingAmountRow.style.display = 'table-row';
        extraServicesAmountRow.style.display = 'none';
        result_boxAmountRow.style.display = 'table-row';
        extra_service_result_boxAmountRow.style.display = 'none';
        extra_service_payment_type_tr.style.display = 'table-row';
    } else if (value === 'Extra Services') {
        bookingAmountRow.style.display = 'none';
        result_boxAmountRow.style.display = 'none';
        extraServicesAmountRow.style.display = 'table-row';
        extra_service_result_boxAmountRow.style.display = 'table-row';
        extra_service_payment_type_tr.style.display = 'none';
    }
}

// Initial call to set the correct state on page load
document.addEventListener('DOMContentLoaded', function() {
    const selectedValue = document.querySelector('input[name="receipt_type"]:checked').value;
    extra_service_receipt_type(selectedValue);
});
</script>
<script>
    $('.data_amt_first').keyup(function(){
        // alert('hiiii');
        var seat_type_data = $(this).attr('attr-amt');
        // alert(seat_type_data);
        
        // alert(price);
        // if(seat_type_data=='2000'){
        //     var price = parseFloat($('#cash_2000').val());
        //     var total_amt = price * seat_type_data;
        //     if(total_amt>0){
        //         $('#total_cash_2000').val(total_amt);
        //     }else{
        //         $('#total_cash_2000').val('0');
        //     }
        // }else 
        if(seat_type_data=='500'){
            var price = parseFloat($('#cash_500').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#total_cash_500').val(total_amt);
            }else{
                $('#total_cash_500').val('0');
            }
        }else if(seat_type_data=='200'){
            var price = parseFloat($('#cash_200').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#total_cash_200').val(total_amt);
            }else{
                $('#total_cash_200').val('0');
            }
        }else if(seat_type_data=='100'){
            var price = parseFloat($('#cash_100').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#total_cash_100').val(total_amt);
            }else{
                $('#total_cash_100').val('0');
            }
        }else if(seat_type_data=='50'){
            var price = parseFloat($('#cash_50').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#total_cash_50').val(total_amt);
            }else{
                $('#total_cash_50').val('0');
            }
        }else if(seat_type_data=='20'){
            var price = parseFloat($('#cash_20').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#total_cash_20').val(total_amt);
            }else{
                $('#total_cash_20').val('0');
            }
        }else if(seat_type_data=='10'){
            var price = parseFloat($('#cash_10').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#total_cash_10').val(total_amt);
            }else{
                $('#total_cash_10').val('0');
            }
        }else if(seat_type_data=='5'){
            var price = parseFloat($('#cash_5').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#total_cash_5').val(total_amt);
            }else{
                $('#total_cash_5').val('0');
            }
        }
        else if(seat_type_data=='2'){
            var price = parseFloat($('#cash_2').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#total_cash_2').val(total_amt);
            }else{
                $('#total_cash_2').val('0');
            }
        }
        else if(seat_type_data=='1'){
            var price = parseFloat($('#cash_1').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#total_cash_1').val(total_amt);
            }else{
                $('#total_cash_1').val('0');
            }
        }
    });
</script>

<script>
    $('.return_data_amt_first').keyup(function(){
        // alert('hiiii');
        var seat_type_data = $(this).attr('return-attr-amt');
        // alert(seat_type_data);
        
        // alert(price);
        // if(seat_type_data=='2000'){
        //     var price = parseFloat($('#cash_2000').val());
        //     var total_amt = price * seat_type_data;
        //     if(total_amt>0){
        //         $('#total_cash_2000').val(total_amt);
        //     }else{
        //         $('#total_cash_2000').val('0');
        //     }
        // }else 
        if(seat_type_data=='500'){
            var price = parseFloat($('#return_cash_500').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#return_total_cash_500').val(total_amt);
            }else{
                $('#return_total_cash_500').val('0');
            }
        }else if(seat_type_data=='200'){
            var price = parseFloat($('#return_cash_200').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#return_total_cash_200').val(total_amt);
            }else{
                $('#return_total_cash_200').val('0');
            }
        }else if(seat_type_data=='100'){
            var price = parseFloat($('#return_cash_100').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#return_total_cash_100').val(total_amt);
            }else{
                $('#return_total_cash_100').val('0');
            }
        }else if(seat_type_data=='50'){
            var price = parseFloat($('#return_cash_50').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#return_total_cash_50').val(total_amt);
            }else{
                $('#return_total_cash_50').val('0');
            }
        }else if(seat_type_data=='20'){
            var price = parseFloat($('#return_cash_20').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#return_total_cash_20').val(total_amt);
            }else{
                $('#return_total_cash_20').val('0');
            }
        }else if(seat_type_data=='10'){
            var price = parseFloat($('#return_cash_10').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#return_total_cash_10').val(total_amt);
            }else{
                $('#return_total_cash_10').val('0');
            }
        }else if(seat_type_data=='5'){
            var price = parseFloat($('#return_cash_5').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#return_total_cash_5').val(total_amt);
            }else{
                $('#return_total_cash_5').val('0');
            }
        }
        else if(seat_type_data=='2'){
            var price = parseFloat($('#return_cash_2').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#return_total_cash_2').val(total_amt);
            }else{
                $('#return_total_cash_2').val('0');
            }
        }
        else if(seat_type_data=='1'){
            var price = parseFloat($('#return_cash_1').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#return_total_cash_1').val(total_amt);
            }else{
                $('#return_total_cash_1').val('0');
            }
        }
        

    });
</script>

<script>
$(document).ready(function() {

    var f_count = '';
    var e_count = '';
    var g_count = '';
    var m_count = '';
    var l_count = '';
    var n_count = '';
    var o_count = '';
    var a_count = '';
    var b_count = '';
    var c_count = '';


    $(".return_data_amt_first").on('keyup', function() {
        // var f_count = $("#total_cash_2000").val()
        var e_count = $("#return_total_cash_500").val();
        var g_count = $("#return_total_cash_200").val();
        var m_count = $("#return_total_cash_100").val();
        var l_count = $("#return_total_cash_50").val();
        var n_count = $("#return_total_cash_20").val();
        var o_count = $("#return_total_cash_10").val();
        var a_count = $("#return_total_cash_5").val();
        var b_count = $("#return_total_cash_2").val();
        var c_count = $("#return_total_cash_1").val();

        // if (f_count != '') {
        //     var ftotal = f_count;
        // } else {
        //     var ftotal = 0;
        // }
        if (e_count != '') {
            var etotal = e_count;
        } else {
            var etotal = 0;
        }
        if (g_count != '') {
            var gtotal = g_count;
        } else {
            var gtotal = 0;
        }
        if (m_count != '') {
            var mtotal = m_count;
        } else {
            var mtotal = 0;
        }
        if (l_count != '') {
            var ltotal = l_count;
        } else {
            var ltotal = 0;
        }
        if (n_count != '') {
            var ntotal = n_count;
        } else {
            var ntotal = 0;
        }
        if (o_count != '') {
            var ototal = o_count;
        } else {
            var ototal = 0;
        }
        if (a_count != '') {
            var atotal = a_count;
        } else {
            var atotal = 0;
        }
        if (b_count != '') {
            var btotal = b_count;
        } else {
            var btotal = 0;
        }
        if (c_count != '') {
            var ctotal = c_count;
        } else {
            var ctotal = 0;
        }
        var final_total = parseInt(etotal) + parseInt(gtotal) + parseInt(mtotal) +
            parseInt(ltotal) + parseInt(ntotal) + parseInt(ototal) + parseInt(atotal) + parseInt(btotal) +
            parseInt(ctotal);

        $("#return_total_cash_amt").val(final_total);


    });
});


// =========== Sra Booking ==========================================================

$(document).ready(function() {
            $(".return_data_amt_first").attr("disabled", true);
            function checkConditions() {
                var total_cash_amt = parseFloat($('#total_cash_amt').val());
                var booking_amt = parseFloat($('#booking_amt').val());
                var return_total_cash_amt = parseFloat($('#return_total_cash_amt').val());

                if (isNaN(return_total_cash_amt)) {
                    return_total_cash_amt = 0;
                }

                var total_cash = booking_amt + return_total_cash_amt;
                $("#total_of_two").val(total_cash);

                if (total_cash_amt === booking_amt || total_cash_amt === total_cash) {
                    $("#sra_submit_otp").attr("disabled", false);
                } else {
                    $("#sra_submit_otp").attr("disabled", true);
                }

                if(total_cash_amt === booking_amt  || total_cash_amt==0){
                    $(".return_data_amt_first").attr("disabled", true);
                }else if(total_cash_amt > booking_amt){
                    $(".return_data_amt_first").attr("disabled", false);
                    $("#send_receiver_msg").text("Please match receive amount and sending to customer amount.").addClass("red-text").css("display", "block");
                }else{
                    $(".return_data_amt_first").attr("disabled", false);
                }
            }

            $(".data_amt_first, .return_data_amt_first").on('keyup', function() {
                checkConditions();
            });

            // checkConditions();
        });
</script>

<script>
    $(document).ready(function() {
    $('.return_data_amt_partial').keyup(function(){
        
        var seat_type_data = $(this).attr('return-attr-amt');
        // alert(seat_type_data);
        
        // alert(price);
        // if(seat_type_data=='2000'){
        //     var price = parseFloat($('#cash_2000').val());
        //     var total_amt = price * seat_type_data;
        //     if(total_amt>0){
        //         $('#total_cash_2000').val(total_amt);
        //     }else{
        //         $('#total_cash_2000').val('0');
        //     }
        // }else 
        if(seat_type_data=='500'){
            var price = parseFloat($('#return_cash_500').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#return_total_cash_500').val(total_amt);
            }else{
                $('#return_total_cash_500').val('0');
            }
        }else if(seat_type_data=='200'){
            var price = parseFloat($('#return_cash_200').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#return_total_cash_200').val(total_amt);
            }else{
                $('#return_total_cash_200').val('0');
            }
        }else if(seat_type_data=='100'){
            var price = parseFloat($('#return_cash_100').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#return_total_cash_100').val(total_amt);
            }else{
                $('#return_total_cash_100').val('0');
            }
        }else if(seat_type_data=='50'){
            var price = parseFloat($('#return_cash_50').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#return_total_cash_50').val(total_amt);
            }else{
                $('#return_total_cash_50').val('0');
            }
        }else if(seat_type_data=='20'){
            var price = parseFloat($('#return_cash_20').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#return_total_cash_20').val(total_amt);
            }else{
                $('#return_total_cash_20').val('0');
            }
        }else if(seat_type_data=='10'){
            var price = parseFloat($('#return_cash_10').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#return_total_cash_10').val(total_amt);
            }else{
                $('#return_total_cash_10').val('0');
            }
        }else if(seat_type_data=='5'){
            var price = parseFloat($('#return_cash_5').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#return_total_cash_5').val(total_amt);
            }else{
                $('#return_total_cash_5').val('0');
            }
        }
        else if(seat_type_data=='2'){
            var price = parseFloat($('#return_cash_2').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#return_total_cash_2').val(total_amt);
            }else{
                $('#return_total_cash_2').val('0');
            }
        }
        else if(seat_type_data=='1'){
            var price = parseFloat($('#return_cash_1').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#return_total_cash_1').val(total_amt);
            }else{
                $('#return_total_cash_1').val('0');
            }
        }
        

    });
});
</script>

<script>
$(document).ready(function() {

    var f_count = '';
    var e_count = '';
    var g_count = '';
    var m_count = '';
    var l_count = '';
    var n_count = '';
    var o_count = '';
    var a_count = '';
    var b_count = '';
    var c_count = '';


    $(".return_data_amt_partial").on('keyup', function() {
        // var f_count = $("#total_cash_2000").val()
        var e_count = $("#return_total_cash_500").val();
        var g_count = $("#return_total_cash_200").val();
        var m_count = $("#return_total_cash_100").val();
        var l_count = $("#return_total_cash_50").val();
        var n_count = $("#return_total_cash_20").val();
        var o_count = $("#return_total_cash_10").val();
        var a_count = $("#return_total_cash_5").val();
        var b_count = $("#return_total_cash_2").val();
        var c_count = $("#return_total_cash_1").val();

        // if (f_count != '') {
        //     var ftotal = f_count;
        // } else {
        //     var ftotal = 0;
        // }
        if (e_count != '') {
            var etotal = e_count;
        } else {
            var etotal = 0;
        }
        if (g_count != '') {
            var gtotal = g_count;
        } else {
            var gtotal = 0;
        }
        if (m_count != '') {
            var mtotal = m_count;
        } else {
            var mtotal = 0;
        }
        if (l_count != '') {
            var ltotal = l_count;
        } else {
            var ltotal = 0;
        }
        if (n_count != '') {
            var ntotal = n_count;
        } else {
            var ntotal = 0;
        }
        if (o_count != '') {
            var ototal = o_count;
        } else {
            var ototal = 0;
        }
        if (a_count != '') {
            var atotal = a_count;
        } else {
            var atotal = 0;
        }
        if (b_count != '') {
            var btotal = b_count;
        } else {
            var btotal = 0;
        }
        if (c_count != '') {
            var ctotal = c_count;
        } else {
            var ctotal = 0;
        }
        var final_total = parseInt(etotal) + parseInt(gtotal) + parseInt(mtotal) +
            parseInt(ltotal) + parseInt(ntotal) + parseInt(ototal) + parseInt(atotal) + parseInt(btotal) +
            parseInt(ctotal);

        $("#return_total_cash_amt").val(final_total);


    });
});


$(document).ready(function() {
            
$(".return_data_amt_partial").attr("disabled", true);
            function partial_agent_booking_checkConditions() {
                // alert('lllllllllllllllllllllllll');
                var total_cash_amt = parseFloat($('#total_cash_amt').val());
            var parcial_booking_amt = parseFloat($('#next_booking_amt').val());
            var parcial_extra_services_booking_amt = parseFloat($('#next_extra_services_amt').val());
                var return_total_cash_amt = parseFloat($('#return_total_cash_amt').val());

                // console.log('booking_amt',booking_amt);

                // if (isNaN(parcial_booking_amt) && !isNaN(parcial_extra_services_booking_amt)) {
                //     booking_amt = parcial_extra_services_booking_amt;
                // }else if (isNaN(parcial_booking_amt) && isNaN(parcial_extra_services_booking_amt)) {
                //     booking_amt = 0;
                // }

                if(!isNaN(parcial_booking_amt))
                {
                    var booking_amt=parcial_booking_amt;
                }
                else if(!isNaN(parcial_extra_services_booking_amt))
                {
                    var booking_amt=parcial_extra_services_booking_amt;
                }else{
                    var booking_amt=0;
                }

                if (isNaN(return_total_cash_amt)) {
                    return_total_cash_amt = 0;
                }

console.log('total_cash_amt',total_cash_amt);
console.log('booking_amt',booking_amt);
console.log('total_cash',total_cash);
// console.log('return_total_cash_amt',return_total_cash_amt);

                var total_cash = booking_amt + return_total_cash_amt;
                $("#total_of_two").val(total_cash);

                if (total_cash_amt === booking_amt || total_cash_amt === total_cash) {
                    $("#sra_partial_pending_amt_submit_otp").attr("disabled", false);
                } else {
                    $("#sra_partial_pending_amt_submit_otp").attr("disabled", true);
                }

                if(total_cash_amt === booking_amt){
                    $(".return_data_amt_partial").attr("disabled", true);
                }else if(total_cash_amt > booking_amt){
                    $(".return_data_amt_partial").attr("disabled", false);
                    $("#send_receiver_msg").show().text("Please match receive amount and sending to customer amount.").addClass("red-text");
                }else{
                    $(".return_data_amt_partial").attr("disabled", false);
                }
            }

            $(".data_amt_partial, .return_data_amt_partial").on('keyup', function() {
                partial_agent_booking_checkConditions();
            });

            // partial_agent_booking_checkConditions();
        });  
</script>

<script>
    $('.return_data_amt_first').keyup(function(){
        // alert('hiiii');
        var seat_type_data = $(this).attr('return-attr-amt');
        // alert(seat_type_data);
        
        // alert(price);
        // if(seat_type_data=='2000'){
        //     var price = parseFloat($('#cash_2000').val());
        //     var total_amt = price * seat_type_data;
        //     if(total_amt>0){
        //         $('#total_cash_2000').val(total_amt);
        //     }else{
        //         $('#total_cash_2000').val('0');
        //     }
        // }else 
        if(seat_type_data=='500'){
            var price = parseFloat($('#return_cash_500').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#return_total_cash_500').val(total_amt);
            }else{
                $('#return_total_cash_500').val('0');
            }
        }else if(seat_type_data=='200'){
            var price = parseFloat($('#return_cash_200').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#return_total_cash_200').val(total_amt);
            }else{
                $('#return_total_cash_200').val('0');
            }
        }else if(seat_type_data=='100'){
            var price = parseFloat($('#return_cash_100').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#return_total_cash_100').val(total_amt);
            }else{
                $('#return_total_cash_100').val('0');
            }
        }else if(seat_type_data=='50'){
            var price = parseFloat($('#return_cash_50').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#return_total_cash_50').val(total_amt);
            }else{
                $('#return_total_cash_50').val('0');
            }
        }else if(seat_type_data=='20'){
            var price = parseFloat($('#return_cash_20').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#return_total_cash_20').val(total_amt);
            }else{
                $('#return_total_cash_20').val('0');
            }
        }else if(seat_type_data=='10'){
            var price = parseFloat($('#return_cash_10').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#return_total_cash_10').val(total_amt);
            }else{
                $('#return_total_cash_10').val('0');
            }
        }else if(seat_type_data=='5'){
            var price = parseFloat($('#return_cash_5').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#return_total_cash_5').val(total_amt);
            }else{
                $('#return_total_cash_5').val('0');
            }
        }
        else if(seat_type_data=='2'){
            var price = parseFloat($('#return_cash_2').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#return_total_cash_2').val(total_amt);
            }else{
                $('#return_total_cash_2').val('0');
            }
        }
        else if(seat_type_data=='1'){
            var price = parseFloat($('#return_cash_1').val());
            var total_amt = price * seat_type_data;
            if(total_amt>0){
                $('#return_total_cash_1').val(total_amt);
            }else{
                $('#return_total_cash_1').val('0');
            }
        }
        

    });
</script>

<script>
    $(document).ready(function() {

    var f_count = '';
    var e_count = '';
    var g_count = '';
    var m_count = '';
    var l_count = '';
    var n_count = '';
    var o_count = '';
    var a_count = '';
    var b_count = '';
    var c_count = '';


    $(".data_amt_first").on('keyup', function() {
        // var f_count = $("#total_cash_2000").val()
        var e_count = $("#total_cash_500").val();
        var g_count = $("#total_cash_200").val();
        var m_count = $("#total_cash_100").val();
        var l_count = $("#total_cash_50").val();
        var n_count = $("#total_cash_20").val();
        var o_count = $("#total_cash_10").val();
        var a_count = $("#total_cash_5").val();
        var b_count = $("#total_cash_2").val();
        var c_count = $("#total_cash_1").val();

        // if (f_count != '') {
        //     var ftotal = f_count;
        // } else {
        //     var ftotal = 0;
        // }
        if (e_count != '') {
            var etotal = e_count;
        } else {
            var etotal = 0;
        }
        if (g_count != '') {
            var gtotal = g_count;
        } else {
            var gtotal = 0;
        }
        if (m_count != '') {
            var mtotal = m_count;
        } else {
            var mtotal = 0;
        }
        if (l_count != '') {
            var ltotal = l_count;
        } else {
            var ltotal = 0;
        }
        if (n_count != '') {
            var ntotal = n_count;
        } else {
            var ntotal = 0;
        }
        if (o_count != '') {
            var ototal = o_count;
        } else {
            var ototal = 0;
        }
        if (a_count != '') {
            var atotal = a_count;
        } else {
            var atotal = 0;
        }
        if (b_count != '') {
            var btotal = b_count;
        } else {
            var btotal = 0;
        }
        if (c_count != '') {
            var ctotal = c_count;
        } else {
            var ctotal = 0;
        }
        var final_total = parseInt(etotal) + parseInt(gtotal) + parseInt(mtotal) +
            parseInt(ltotal) + parseInt(ntotal) + parseInt(ototal) + parseInt(atotal) + parseInt(btotal) +
            parseInt(ctotal);
        $("#total_cash_amt").val(final_total);
    });    
});    
</script>
 
 <!--  SRA booking payemnt details send otp -->
<script>
$(document).ready(function() {
    $("#sra_submit_otp").click(function() {
        var mobile_no = $('#sra_booking_tm_mobile_no').val();  
        var final_amt = $('#final_amt').val();
        var academic_year = $('#academic_year').val();
        var sra_no = $('#sra_no').val();
        var package_id = $('#package_id').val();
        var package_date_id = $('#package_date_id').val();
        var sra_payment_id = $('#sra_payment_id').val();
        var select_transaction =($('#select_transaction :selected').val());
        var booking_amt = $('#booking_amt').val();

        
        if (mobile_no != '') {
            // alert('IN hiiiii');
            $.ajax({
                url: "<?php echo base_url(); ?>agent/sra_booking_payment_details/cust_otp",
                type: "post",
                data: {
                    mobile_no: mobile_no,
                    final_amt: final_amt,
                    academic_year: academic_year,
                    sra_no: sra_no,
                    package_id: package_id,
                    package_date_id: package_date_id,
                    sra_payment_id: sra_payment_id,
                    select_transaction: select_transaction,
                    booking_amt: booking_amt,
                },
                // dataType: 'json',
                success: function(responce) {
                    if (responce != false && responce !='') {
                        // alert(responce);
                        var booking_ref_no = $('#booking_ref_no').val(responce);
                        Swal.fire({
                        title: 'Check OTP',
                        text: 'Please check OTP on mobile number: ' + mobile_no,
                        icon: 'info',
                        showCancelButton: false,
                        confirmButtonText: 'OK',
                    }).then((result) => {
                        if (result.isConfirmed) {
                            // Optionally, you can perform additional actions here
                        }
                    });
                    }
                }
            });
        }
    });
});
</script>
<!-- SRA booking payemnt details send otp -->

<!-- booking payemnt details verify otp -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
$("#sra_payment_final_booking_submit").click(function() {

    // alert('hiiiiiiiii'); 

    var verify_otp = $('#otp').val(); 
    var mobile_no = $('#sra_booking_tm_mobile_no').val(); 
    var sra_no = $('#sra_no').val(); 
    // alert(enquiry_id);
    var journey_date  = $("#journey_date").val();
    var traveller_id  = $("#traveller_id").val();
    var enquiry_id    = $("#enquiry_id").val();
    var hotel_name_id    = $("#hotel_name_id").val();
    var package_date_id    = $("#package_date_id").val();
    var package_id    = $("#package_id").val();

    var final_amt = $('#final_amt').val();

    var payment_type = $("input[name='payment_type']:checked").val();
    var selectedId = "";
    if (payment_type === undefined) {
        // No radio button is checked, insert a default value
        payment_type = ""; // You can change this to your desired default value
    } else {
        // Loop through radio buttons to find the one with the selected value
        $("input[name='payment_type']").each(function() {
            if ($(this).val() === payment_type) {
                selectedId = $(this).attr("id");
                return false; // Exit the loop once a match is found
            }
        });
    }

    var receipt_type = $("input[name='receipt_type']:checked").val();
    var receipt_typeId = "";
    if (receipt_type === undefined) {
        // No radio button is checked, insert a default value
        receipt_type = ""; // You can change this to your desired default value
    } else {
        // Loop through radio buttons to find the one with the selected value
        $("input[name='receipt_type']").each(function() {
            if ($(this).val() === receipt_type) {
                receipt_typeId = $(this).attr("id");
                return false; // Exit the loop once a match is found
            }
        });
    }

    
    var academic_year = $('#academic_year').val();

    var booking_amt = $('#booking_amt').val(); 
    var pending_amt = $('#pending_amt').val();
    // alert(pending_amt);
    // var payment_now_later = $('#payment_now_later').val();
    var payment_now_later = $("input[name='payment_now_later']:checked").val();
    // alert(payment_now_later);

    var upi_no = $('#upi_no').val();
    var cheque = $('#cheque').val();
    var bank_name = $('#bank_name').val();
    var drawn_on_date = $('#drawn_on_date').val();
    var name_on_cheque = $('#name_on_cheque').val();
    var cheque_bank_name = $('#cheque_bank_name').val();
    var cheque_reason_1 = $('#cheque_reason_1').val();

    var demand_draft_name = $('#demand_draft_name').val();
    var demand_draft_bank_name = $('#demand_draft_bank_name').val();
    var demand_draft_number = $('#demand_draft_number').val();
    var demand_draft_date = $('#demand_draft_date').val();
    var demand_draft_reason = $('#demand_draft_reason').val();


    // var netbanking_payment_type = $('#netbanking_payment_type').val();
    var netbanking_payment_type = $("input[name='netbanking_payment_type']:checked").val();
    var selectedId = "";
    if (netbanking_payment_type === undefined) {
        // No radio button is checked, insert a default value
        netbanking_payment_type = ""; // You can change this to your desired default value
    } else {
        // Loop through radio buttons to find the one with the selected value
        $("input[name='netbanking_payment_type']").each(function() {
            if ($(this).val() === netbanking_payment_type) {
                selectedId = $(this).attr("id");
                return false; // Exit the loop once a match is found
            }
        });
    }


    // alert(netbanking_payment_type);
    var net_banking_utr_no = $('#net_banking_utr_no').val();
    var net_banking_acc_no = $('#net_banking_acc_no').val();
    var net_acc_holder_nm = $('#net_acc_holder_nm').val();
    var net_banking_branch_name = $('#net_banking_branch_name').val();
    var netbanking_bank_name = $('#netbanking_bank_name').val();
    var netbanking_date = $('#netbanking_date').val();
    var net_banking_reason_1 = $('#net_banking_reason_1').val();

    var upi_holder_name = $('#select_upi_no').val();
    var upi_payment_type = $('#upi_payment_type').val();
    // alert(upi_payment_type);
    var upi_self_no = $('#self_upi_no').val();
    var upi_reason = $('#reason').val();
    var upi_transaction_date = $('#upi_transaction_date').val();
    var upi_customer_payment_type = $('#upi_customer_payment_type').val();


    var qr_holder_name = $('#select_qr_upi_no').val();
    var qr_mobile_number = $('#qr_mobile_number').val();
    var qr_payment_type = $('#qr_payment_type').val();
    var qr_upi_no = $('#qr_upi_no').val();
    var qr_transaction_date = $('#qr_transaction_date').val();
    var qr_reason_1 = $('#qr_reason_1').val();


    var select_transaction =($('#select_transaction :selected').val());
    // alert(select_transaction);
    // var cash_2000 = $('#cash_2000').val();
    // var total_cash_2000 = $('#total_cash_2000').val();
    var cash_500 = $('#cash_500').val();
    var total_cash_500 = $('#total_cash_500').val();
    // alert(total_cash_500);
    var cash_200 = $('#cash_200').val();
    var total_cash_200 = $('#total_cash_200').val();
    var cash_100 = $('#cash_100').val();
    var total_cash_100 = $('#total_cash_100').val();
    var cash_50 = $('#cash_50').val();
    var total_cash_50 = $('#total_cash_50').val();
    var cash_20 = $('#cash_20').val();
    var total_cash_20 = $('#total_cash_20').val();
    var cash_10 = $('#cash_10').val();
    var total_cash_10 = $('#total_cash_10').val();

    var cash_5 = $('#cash_5').val();
    var total_cash_5 = $('#total_cash_5').val();
    // alert(total_cash_5);
    var cash_2 = $('#cash_2').val();
    var total_cash_2 = $('#total_cash_2').val();
    var cash_1 = $('#cash_1').val();
    var total_cash_1 = $('#total_cash_1').val();

    var total_cash_amt = $('#total_cash_amt').val();

    var return_cash_500 = $('#return_cash_500').val();
    var return_total_cash_500 = $('#return_total_cash_500').val();
    // alert(return_total_cash_500);
    var return_cash_200 = $('#return_cash_200').val();
    var return_total_cash_200 = $('#return_total_cash_200').val();
    var return_cash_100 = $('#return_cash_100').val();
    var return_total_cash_100 = $('#return_total_cash_100').val();
    var return_cash_50 = $('#return_cash_50').val();
    var return_total_cash_50 = $('#return_total_cash_50').val();
    var return_cash_20 = $('#return_cash_20').val();
    var return_total_cash_20 = $('#return_total_cash_20').val();
    var return_cash_10 = $('#return_cash_10').val();
    var return_total_cash_10 = $('#return_total_cash_10').val();
    var return_cash_5 = $('#return_cash_5').val();
    var return_total_cash_5 = $('#return_total_cash_5').val();
    var return_cash_2 = $('#return_cash_2').val();
    var return_total_cash_2 = $('#return_total_cash_2').val();
    var return_cash_1 = $('#return_cash_1').val();
    var return_total_cash_1 = $('#return_total_cash_1').val();

    var return_total_cash_amt = $('#return_total_cash_amt').val();

    var booking_payment_details_id = $('#sra_booking_payment_details_id').val();
    // alert(booking_payment_details_id);
    var return_customer_booking_payment_id = $('#return_customer_booking_payment_id').val();

    // alert(package_id);

    if (verify_otp != '') {
        $.ajax({
            type: "POST",
            url: '<?= base_url() ?>agent/sra_booking_payment_details/verify_otp',
            data: {
                demand_draft_name: demand_draft_name,
                demand_draft_bank_name: demand_draft_bank_name,
                demand_draft_number: demand_draft_number,
                demand_draft_date: demand_draft_date,
                demand_draft_reason: demand_draft_reason,
                verify_otp: verify_otp,
                mobile_no: mobile_no,
                sra_no: sra_no,
                journey_date: journey_date,
                traveller_id: traveller_id,
                hotel_name_id: hotel_name_id,
                package_date_id: package_date_id,
                package_id: package_id,

                booking_payment_details_id: booking_payment_details_id,
                return_customer_booking_payment_id: return_customer_booking_payment_id,
                booking_amt: booking_amt,
                final_amt: final_amt,
                receipt_type: receipt_type,
                payment_type: payment_type,
                pending_amt: pending_amt,
                payment_now_later: payment_now_later,
                upi_no: upi_no,
                cheque: cheque,
                bank_name: bank_name,
                drawn_on_date: drawn_on_date,
                name_on_cheque: name_on_cheque,
                cheque_bank_name: cheque_bank_name,
                cheque_reason_1: cheque_reason_1,
                netbanking_payment_type: netbanking_payment_type,
                net_banking_acc_no: net_banking_acc_no,
                net_acc_holder_nm: net_acc_holder_nm,
                net_banking_branch_name: net_banking_branch_name,
                net_banking_utr_no: net_banking_utr_no,
                netbanking_bank_name: netbanking_bank_name,
                netbanking_date: netbanking_date,
                net_banking_reason_1: net_banking_reason_1,
                
                upi_holder_name: upi_holder_name,
                upi_payment_type: upi_payment_type,
                upi_self_no: upi_self_no,
                upi_reason: upi_reason,
                upi_transaction_date: upi_transaction_date,
                upi_customer_payment_type: upi_customer_payment_type,
                
                qr_holder_name: qr_holder_name,
                qr_mobile_number: qr_mobile_number,
                qr_payment_type: qr_payment_type,
                qr_upi_no: qr_upi_no,
                qr_transaction_date: qr_transaction_date,
                qr_reason_1: qr_reason_1,
                
                select_transaction: select_transaction,
                cash_500: cash_500,
                total_cash_500: total_cash_500,
                cash_200: cash_200,
                total_cash_200: total_cash_200,
                cash_100: cash_100,
                total_cash_100: total_cash_100,
                cash_50: cash_50,
                total_cash_50: total_cash_50,
                cash_20: cash_20,
                total_cash_20: total_cash_20,
                cash_10: cash_10,
                total_cash_10: total_cash_10,
                cash_5: cash_5,
                total_cash_5: total_cash_5,
                cash_2: cash_2,
                total_cash_2: total_cash_2,
                cash_1: cash_1,
                total_cash_1: total_cash_1,
                total_cash_amt: total_cash_amt,

                return_cash_500: return_cash_500,
                return_total_cash_500: return_total_cash_500,
                return_cash_200: return_cash_200,
                return_total_cash_200: return_total_cash_200,
                return_cash_100: return_cash_100,
                return_total_cash_100: return_total_cash_100,
                return_cash_50: return_cash_50,
                return_total_cash_50: return_total_cash_50,
                return_cash_20: return_cash_20,
                return_total_cash_20: return_total_cash_20,
                return_cash_10: return_cash_10,
                return_total_cash_10: return_total_cash_10,
                return_cash_5: return_cash_5,
                return_total_cash_5: return_total_cash_5,
                return_cash_2: return_cash_2,
                return_total_cash_2: return_total_cash_2,
                return_cash_1: return_cash_1,
                return_total_cash_1: return_total_cash_1,
                return_total_cash_amt: return_total_cash_amt,
            },
            //  dataType: 'json',
            //  cache: false,
            success: function(response) {
                    if (response == true) {
                    Swal.fire({
                        title: 'Success',
                        text: 'Verify OTP Successfully',
                        icon: 'success',
                        confirmButtonText: 'OK'
                    }).then((result) => {
                        if (result.isConfirmed) {
                            $("#sra_submit_otp").prop('disabled', true);
                            window.location.href = "<?= base_url() ?>agent/sra_payment_receipt/index/"+sra_no+ "/" +academic_year;
                        }
                    });
                } else {
                    Swal.fire({
                        title: 'Error',
                        text: 'You Entered Wrong OTP. Please check it and submit the correct OTP',
                        icon: 'error',
                        confirmButtonText: 'OK'
                    });
                }
            },

        });
    }
    
});
</script>
<!-- booking payemnt details verify otp -->

<script>
    $(document).ready(function(){ 
    const target = document.getElementById('sra_payment_final_booking_submit');
    target.disabled = true;
    $('#otp').on('keyup', function() {
        
        if($(this).val().length != 6) {
            target.disabled = true;
            $('#least_count').html("You must enter 6 digit OTP.");
        } else {
            target.disabled = false;
            $('#least_count').html(""); // Clear the message when 6 digits are entered
        }
    });
});
</script>